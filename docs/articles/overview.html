<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Overview • cifmodeling</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cifmodeling</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/polyreg.html">Direct polytomous regression</a></li>
    <li><a class="dropdown-item" href="../articles/examples.html">Examples</a></li>
    <li><a class="dropdown-item" href="../articles/information.html">Additional information</a></li>
    <li><a class="dropdown-item" href="../articles/arguments.html">Full lists of arguments</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gestimation/cifmodeling" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Overview</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gestimation/cifmodeling/blob/HEAD/vignettes/overview.Rmd" class="external-link"><code>vignettes/overview.Rmd</code></a></small>
      <div class="d-none name"><code>overview.Rmd</code></div>
    </div>

    
    
<!-- badges: start -->
<!-- badges: end -->
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>This package is a compact and unified toolkit for the
Kaplan–Meier/Aalen–Johansen curves, visualization, and direct polytomous
regression for survival and competing risks data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gestimation.github.io/cifmodeling/">cifmodeling</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">diabetes.complications</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/cifplot.html">cifplot</a></span><span class="op">(</span><span class="fu"><a href="../reference/Event.html">Event</a></span><span class="op">(</span><span class="va">t</span>,<span class="va">epsilon</span><span class="op">)</span><span class="op">~</span><span class="va">fruitq</span>, data<span class="op">=</span><span class="va">diabetes.complications</span>, </span>
<span>        outcome.type<span class="op">=</span><span class="st">"competing-risk"</span>, panel.per.event<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="fig/overview-example01-1-1.png" alt="Aalen–Johansen cumulative incidence curves from cifplot()" width="70%"><p class="caption">
Aalen–Johansen cumulative incidence curves from cifplot()
</p>
</div>
<p>This is an example code snippet applying <code><a href="../reference/cifplot.html">cifplot()</a></code> to
visualize the Aalen–Johansen cumulative incidence functions (CIFs). In
competing risks data, censoring is often coded as 0, events of interest
as 1, and competing risks as 2. The variable <code>epsilon</code> in
<code>diabetes.complications</code> data frame represents the occurrence
of competing risks according to this coding scheme. By setting
<code>panel.per.event=TRUE</code>, the CIF curve for diabetic
retinopathy (<code>epsilon=1</code>) is output on the left and
macrovascular complications (<code>epsilon=2</code>) on the right.</p>
</div>
<div class="section level2">
<h2 id="tools-for-survival-and-competing-risks-analysis">Tools for survival and competing risks analysis<a class="anchor" aria-label="anchor" href="#tools-for-survival-and-competing-risks-analysis"></a>
</h2>
<p>In clinical and epidemiological research, analysts often need to
handle censoring, competing risks, and intercurrent events (e.g.,
treatment switching), but existing R packages typically separate these
tasks into different interfaces. <code>cifmodeling</code> provides a
<strong>unified, publication-ready toolkit</strong> that integrates
description of survival and CIF curves, regression modeling, and
visualization for survival and competing risks data. It covers both
nonparametric estimation and regression modeling of CIFs, centered
around three tightly connected functions.</p>
<ul>
<li><p><code><a href="../reference/cifplot.html">cifplot()</a></code> typically generates a survival or CIF
curve with marks that represent censoring, competing risks and
intercurrent events. Multiple standard error (SE) estimators and
confidence interval (CI) methods are supported. Visualization relies on
<code>ggsurvfit/ggplot2</code>.</p></li>
<li><p><code><a href="../reference/cifpanel.html">cifpanel()</a></code> generates a multi-panel figure for
survival/CIF curves, arranged either in a grid layout or as an inset
overlay.</p></li>
<li><p><code><a href="../reference/polyreg.html">polyreg()</a></code> fits coherent regression models of CIFs
based on polytomous log odds products and the stratified inverse
probability of censoring weighting (IPCW) estimator. This function is
particularly well-suited for causal inference in terms of typical effect
measures, namely risk ratios, odds ratios, and subdistribution hazard
ratios, with a competing risks, survival, or binary outcome.</p></li>
</ul>
<p>These functions adopt a formula + data syntax, return tidy,
publication-ready outputs, and integrate seamlessly with
<code>ggsurvfit</code> and <code>modelsummary</code> for
visualization.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package is implemented in R and relies on <code>Rcpp</code>,
<code>nleqslv</code> and <code>boot</code> for the numerical back-end.
The examples in this document also use <code>ggplot2</code>,
<code>ggsurvfit</code>, <code>patchwork</code> and
<code>modelsummary</code> for tabulation and plotting. Install the core
package and these companion packages with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"Rcpp"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"nleqslv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"boot"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggplot2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggsurvfit"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"patchwork"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"modelsummary"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"gestimation/cifmodeling"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interoperability">Interoperability<a class="anchor" aria-label="anchor" href="#interoperability"></a>
</h2>
<p>There are several excellent R packages for survival and
competing-risk analysis. The <code>survival</code> package provides the
canonical API for survival data. In combination with
<code>ggsurvfit</code>, <code><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survival::survfit()</a></code> can generate
publication-ready survival plots. For CIF plots, integration in the
general ecosystem is not as streamlined; <code>cifmodeling</code> fills
this gap by offering <code><a href="../reference/cifplot.html">cifplot()</a></code> for survival/CIF plots and
multi-panel figures via a single, unified interface.</p>
<p>If you need fine-grained plot customization, compute the estimator
and keep a survfit-compatible object with <code><a href="../reference/cifcurve.html">cifcurve()</a></code> (or
supply your own survfit object) and then style it using
<code>ggsurvfit/ggplot2</code> layers. In other words, use
<code><a href="../reference/cifcurve.html">cifcurve()</a></code> for estimation,
<code>cifplot()/cifpanel()</code> for quick high-quality figures, and
fall back to the <code>ggplot</code> ecosystem when you want full
artistic control.</p>
<p>For interval estimation with unweighted survival data,
<code><a href="../reference/cifcurve.html">cifcurve()</a></code> mirrors the CI options of
<code><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survival::survfit()</a></code> and the CI based on influence functions
additionally (<code>error="greenwood"</code>, <code>"tsiatis"</code> and
<code>"if"</code>). For weighted survival data, <code><a href="../reference/cifcurve.html">cifcurve()</a></code>
adds valid CIs and SEs of Xie and Liu (2005), and for competing risk
data, <code>error="delta"</code>, <code>"aalen"</code> and
<code>"if"</code> options. The defaults in <code>cifmodeling</code> are
chosen from external and internal simulation evidence; they should be
sensible for most applications, while still allowing experts to override
them when needed.</p>
<p>The <code>mets</code> package is a more specialized toolkit that
provides advanced statistical methods for competing risk analysis.
<code><a href="../reference/polyreg.html">cifmodeling::polyreg()</a></code> focuses on coherent modeling of all
CIFs simultaneously to estimate RR/OR/SHR at user-specified times; this
coherence can come with longer runtimes on large problems. If you prefer
fitting separate regression models for each competing event or need
Fine–Gray specifically, <code><a href="https://kkholst.github.io/mets/reference/cifreg.html" class="external-link">mets::cifreg()</a></code> (and
<code><a href="https://kkholst.github.io/mets/reference/binreg.html" class="external-link">mets::binreg()</a></code> for RR and OR estimation) are excellent
choices.</p>
</div>
<div class="section level2">
<h2 id="quality-control">Quality control<a class="anchor" aria-label="anchor" href="#quality-control"></a>
</h2>
<p><code>cifmodeling</code> includes an extensive test suite built with
<strong>testthat</strong>, ensuring the numerical accuracy and graphical
consistency of all core functions (<code>cifcurve</code>,
<code>cifplot</code>, <code>cifpanel</code>, and <code>polyreg</code>).
The package is continuously tested on GitHub Actions (Windows, macOS,
Linux) to maintain reproducibility and CRAN-level compliance.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shiro Tanaka.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
