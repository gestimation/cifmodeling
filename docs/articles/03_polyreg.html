<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Direct polytomous regression • cifmodeling</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Direct polytomous regression">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cifmodeling</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01_overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/02_functions.html">Main functions</a></li>
    <li><a class="dropdown-item" href="../articles/03_polyreg.html">Direct polytomous regression</a></li>
    <li><a class="dropdown-item" href="../articles/04_examples.html">Examples</a></li>
    <li><a class="dropdown-item" href="../articles/05_information.html">Additional information</a></li>
    <li><a class="dropdown-item" href="../articles/06_arguments.html">Full lists of arguments</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gestimation/cifmodeling" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Direct polytomous regression</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gestimation/cifmodeling/blob/HEAD/vignettes/03_polyreg.Rmd" class="external-link"><code>vignettes/03_polyreg.Rmd</code></a></small>
      <div class="d-none name"><code>03_polyreg.Rmd</code></div>
    </div>

    
    
<!-- badges: start -->
<!-- badges: end -->
<div class="section level2">
<h2 id="coherent-modeling-of-cifs-using-polytomous-log-odds-products">Coherent modeling of CIFs using polytomous log odds products<a class="anchor" aria-label="anchor" href="#coherent-modeling-of-cifs-using-polytomous-log-odds-products"></a>
</h2>
<p>In analyzing competing risks data, standard semiparametric regression
modeling that treats each cause separately has two drawbacks: potential
loss of information due to ignoring the correlation between causes and
an incoherence in modeling that fails to ensure that the sum of
cause-specific CIFs does not exceed one. Direct polytomous regression
addresses these challenges by reparameterizing nuisance parameters using
polytomous log odds products, which naturally enforces the sum
restriction. This approach is applicable to semiparametric models with
common multiplicative effects over time as well as models focused on a
specific time point.</p>
<p>This model is specified by three main components:</p>
<ul>
<li><p>Nuisance model: Describes the relationship between outcomes and
covariates (excluding exposure).</p></li>
<li><p>Effect measures and time points: Defines the exposure effect to
be estimated and the time point of interest.</p></li>
<li><p>Censoring adjustment: Specifies strata for inverse probability
weighting to adjust for dependent censoring.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="nuisance-model">1. Nuisance Model<a class="anchor" aria-label="anchor" href="#nuisance-model"></a>
</h2>
<p>The <code>nuisance.model</code> argument specifies the formula
linking the outcome to covariates. Its format depends on the outcome
type:</p>
<ul>
<li><p>Competing risks or survival outcome: Use <code>Surv()</code> or
<code><a href="../reference/Event.html">Event()</a></code> with time and status variables.</p></li>
<li><p>Binomial outcome: Use standard R formula notation.</p></li>
</ul>
<p>Default event codes:</p>
<ul>
<li><p>Competing risks outcome: 1 and 2 for event types, 0 for
censoring.</p></li>
<li><p>Survival outcome: 1 for events, 0 for censoring.</p></li>
<li><p>Binomial outcome: 0 and 1.</p></li>
</ul>
<p>Event codes can be customized using <code>code.event1</code>,
<code>code.event2</code>, and <code>code.censoring</code>. The
<code>outcome.type</code> argument must be set to:</p>
<ul>
<li><p>Effects on cumulative incidence probabilities at a specific time:
<code>"COMPETING-RISK"</code></p></li>
<li><p>Effects on a risk at a specific time:
<code>"SURVIVAL"</code></p></li>
<li><p>Common effects on cumulative incidence probabilities over time:
<code>"PROPORTIONAL-COMPETING-RISK"</code></p></li>
<li><p>Common effects on a risk over time:
<code>"PROPORTIONAL-SURVIVAL"</code></p></li>
<li><p>Effects on a risk of a binomial outcome:
<code>"BINOMIAL"</code></p></li>
</ul>
<p>Covariates included in <code>nuisance.model</code> should adjust for
confounding factors to obtain unbiased exposure effect estimates.</p>
</div>
<div class="section level2">
<h2 id="effect-measures-and-time-points">2. Effect measures and time points<a class="anchor" aria-label="anchor" href="#effect-measures-and-time-points"></a>
</h2>
<p>Three effect measures available:</p>
<ul>
<li><p>Risk ratio (RR)</p></li>
<li><p>Odds ratio (OR)</p></li>
<li><p>Subdistribution hazard ratio (SHR)</p></li>
</ul>
<p>Set the desired measure using <code>effect.measure1</code> and, for
competing risks analysis, <code>effect.measure2</code>. The
<code>time.point</code> argument specifies the follow-up time at which
effects are estimated.</p>
</div>
<div class="section level2">
<h2 id="censoring-adjustment">3. Censoring adjustment<a class="anchor" aria-label="anchor" href="#censoring-adjustment"></a>
</h2>
<p>Inverse probability weights adjust for dependent censoring. Use
<code>strata=</code> to specify stratification variables. If no strata
are specified, Kaplan-Meier weights are used.</p>
</div>
<div class="section level2">
<h2 id="estimator-and-confidence-intervals">Estimator and confidence intervals<a class="anchor" aria-label="anchor" href="#estimator-and-confidence-intervals"></a>
</h2>
<p>In <code><a href="../reference/polyreg.html">polyreg()</a></code>, the regression parameters are calculated
by the stratified inverse probability of censoring weighted estimators,
which asymptotically achieve minimum variance within a class of
augmented IPCW estimators, without the computational burden of deriving
augmentation terms for each cause. For confidence intervals,
<code><a href="../reference/polyreg.html">polyreg()</a></code> normally chooses a single, simple method based on
<code>outcome.type</code>:</p>
<ul>
<li>
<code>"COMPETING-RISK"</code>, <code>"SURVIVAL"</code>,
<code>"BINOMIAL"</code> — Wald CIs based on sandwich variance</li>
<li>
<code>"PROPORTIONAL-COMPETING-RISK"</code>,
<code>"PROPORTIONAL-SURVIVAL"</code> — Bootstrap CIs (normal
approximation)</li>
</ul>
<p>For time-point (non-proportional) models, the default is Wald
confidence intervals using a sandwich variance directly from influence
functions. If <code>report.boot.conf = TRUE</code>, the variance is
instead estimated by a wild (multiplier) bootstrap applied to the
influence functions (<code>boot.multiplier</code>, boot.replications),
and Wald confidence intervals are formed from that bootstrap variance.
For common effects (proportional models), <code>boot()</code> refits the
estimator in each replicate and forms normal-approximate confidence
intervals from the bootstrap mean and SD. If desired, BCa confidence
intervals can be requested via <code>boot.bca = TRUE</code> (only for
proportional models). Users normally do not need to set any confidence
interval flags.</p>
</div>
<div class="section level2">
<h2 id="return">Return<a class="anchor" aria-label="anchor" href="#return"></a>
</h2>
<p>This function returns a list object that includes:</p>
<ul>
<li><p><code>coefficient</code> — regression coefficients</p></li>
<li><p><code>cov</code> — variance-covariance matrix for regression
coefficients</p></li>
<li><p><code>diagnostic.statistics</code> — a data frame containing
inverse probability weights, influence functions, and predicted
potential outcomes</p></li>
<li><p><code>summary</code> — a summary of estimated exposure
effects</p></li>
</ul>
<p>Use <code>summary</code> output with <code>msummary()</code> to
display formatted results. The regression coefficients and their
variance-covariance matrix are provided as <code>coefficient</code> and
<code>cov</code>, respectively, with the first element corresponding to
the intercept term, subsequent elements to the covariates in
<code>nuisance.model</code>, and the last element to the variable
specified by <code>exposure=</code>. Finally,
<code>diagnostic.statistics</code> is a data frame containing inverse
probability weights, influence functions, and predicted values of the
potential outcomes of individual observations.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shiro Tanaka.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
