[{"path":"https://gestimation.github.io/cifmodeling/articles/01_overview.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick start","title":"Overview","text":"package compact unified toolkit Kaplan–Meier/Aalen–Johansen curves, visualization, direct polytomous regression survival competing risks data. Aalen–Johansen cumulative incidence curves cifplot() example code snippet applying cifplot() visualize Aalen–Johansen cumulative incidence functions (CIFs). competing risks data, censoring often coded 0, events interest 1, competing risks 2. variable epsilon diabetes.complications data frame represents occurrence competing risks according coding scheme. setting panel.per.event=TRUE, CIF curve diabetic retinopathy (epsilon=1) output left macrovascular complications (epsilon=2) right.","code":"library(cifmodeling) data(diabetes.complications) cifplot(Event(t,epsilon)~fruitq, data=diabetes.complications,          outcome.type=\"COMPETING-RISK\", panel.per.event=TRUE)"},{"path":"https://gestimation.github.io/cifmodeling/articles/01_overview.html","id":"three-functions-for-survival-and-competing-risks-analysis","dir":"Articles","previous_headings":"","what":"Three functions for survival and competing risks analysis","title":"Overview","text":"clinical epidemiological research, analysts often need handle censoring, competing risks, intercurrent events (e.g., treatment switching), existing R packages typically separate tasks different interfaces. cifmodeling provides unified, publication-ready toolkit integrates description survival CIF curves, regression modeling, visualization survival competing risks data. covers nonparametric estimation regression modeling CIFs, centered around three tightly connected functions. cifplot() typically generates survival cumulative incidence curve marks represent censoring, competing risks intercurrent events. Multiple standard error estimators confidence interval methods supported. Visualization relies ggsurvfit/ggplot2. cifpanel() generates multi-panel figure survival/CIF curves, arranged either grid layout inset overlay. polyreg() fits coherent regression models CIFs based polytomous log odds products stratified IPCW estimator. function particularly well-suited causal inference terms typical effect measures, namely risk ratios, odds ratios, subdistribution hazard ratios, competing risks, survival, binary outcome. functions adopt formula + data syntax, return tidy, publication-ready outputs, integrate seamlessly ggsurvfit modelsummary visualization.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/01_overview.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Overview","text":"package implemented R relies Rcpp, nleqslv boot numerical back-end. examples README also use ggplot2, ggsurvfit, patchwork modelsummary tabulation plotting. Install core package companion packages :","code":"install.packages(\"Rcpp\") install.packages(\"nleqslv\") install.packages(\"boot\") install.packages(\"ggplot2\") install.packages(\"ggsurvfit\") install.packages(\"patchwork\") install.packages(\"modelsummary\") devtools::install_github(\"gestimation/cifmodeling\")"},{"path":"https://gestimation.github.io/cifmodeling/articles/01_overview.html","id":"interoperability","dir":"Articles","previous_headings":"","what":"Interoperability","title":"Overview","text":"several excellent R packages survival competing-risk analysis. survival package provides canonical API time--event data. combination ggsurvfit, survival::survfit() can generate publication-ready survival plots. cumulative incidence (CIF) plots, integration general ecosystem streamlined; cifmodeling fills gap offering cifplot() survival/CIF plots multi-panel figures via single, unified interface. need fine-grained plot customization, compute estimator keep survfit-compatible object cifcurve() (supply survfit object) style using ggsurvfit/ggplot2 layers. words, use cifcurve() estimation, cifplot()/cifpanel() quick high-quality figures, fall back ggplot ecosystem want full artistic control. interval estimation, cifcurve() mirrors confidence-interval options survival::survfit() survival curves adds delta aalen options CIFs. defaults cifmodeling chosen external internal simulation evidence; sensible applications, still allowing experts override needed. mets package specialized toolkit provides advanced statistical methods competing risk analysis. cifmodeling::polyreg() focuses coherent modeling CIFs simultaneously estimate RR//SHR user-specified times; coherence can come longer runtimes large problems. prefer fitting separate regression models competing event need Fine–Gray specifically, mets::cifreg() (mets::binreg() RR estimation) excellent choices.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/01_overview.html","id":"quality-control","dir":"Articles","previous_headings":"","what":"Quality control","title":"Overview","text":"cifmodeling includes extensive test suite built testthat, ensuring numerical accuracy graphical consistency core functions (cifcurve, cifplot, cifpanel, polyreg). package continuously tested GitHub Actions (Windows, macOS, Linux) maintain reproducibility CRAN-level compliance.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/02_functions.html","id":"cifplot","dir":"Articles","previous_headings":"","what":"cifplot()","title":"Main functions","text":"function produces Kaplan–Meier survival Aalen–Johansen cumulative incidence curve unified formula + data interface. auto-labels axes based outcome.type type.y (\"risk\" 1-survival CIF), can add censoring/competing-risk/intercurrent-event marks, returns regular ggplot object (compatible + %+%). may also pass survfit-compatible object directly. Typical use cases Draw one survival/CIF curve set exposure groups (e.g., treatment vs control). Call cifpanel() simplified code create panel displaying plots multiple stratified survival/CIF curves CIF curves event type. Add confidence intervals censor/competing-risk/intercurrent-event marks. Add risk table display number risk estimated survival probabilities CIFs 95% confidence intervals point time. Key arguments shared cifcurve() formula model formula specifying time--event outcome left-hand side (Event(time, status) Surv(time, status)) , optionally, stratification variable right-hand side. outcome.type = \"SURVIVAL\" → Kaplan–Meier estimator outcome.type = \"COMPETING-RISK\" → Aalen–Johansen estimator conf.int sets two-sided level (default 0.95) conf.type chooses transformation (\"arcsine-square root\", \"plain\", \"log\", \"log-log\", \"logit\", \"none\") error chooses estimator standard error (\"greenwood\" \"tsiatis\" survival curves \"delta\" \"aalen\" CIFs) Key arguments cifplot() addConfidenceInterval adds confidence intervals ggplot2-based plot addCompetingRiskMark addIntercurrentEventMark add symbols describe competing risks intercurrent events addition conventional censoring marks addCensorMark addRiskTable adds numbers risk addEstimateTable adds estimates 95% confidence interval addQuantileLine adds line represents median quantile type.y chooses y-axis (\"surv\" survival \"risk\" 1-survival/CIF) limits.x, limits.y, breaks.x, breaks.y numeric vectors axis control style specifies appearance plot (\"CLASSIC\", \"BOLD\", \"FRAMED\", \"GRID\", \"GRAY\" \"GGSURVFIT\") palette specifies color curve (e.g. palette=c(\"blue1\", \"cyan3\", \"navy\", \"deepskyblue3\"))) printEachVar produces multiple survival/CIF curves per stratification variable specified formula printEachEvent produces CIF curves event type printCensoring produces KM-type curves (event, censor) (censor, event) censoring patterns can inspected panel.mode uses automatic panel mode Return ggplot object. hood: cifcurve() cifplot() streamlined, opinionated wrapper around cifcurve(), calculates Kaplan–Meier estimator Aalen–Johansen estimator. cifcurve() returns survfit-compatible object, enabling independent use standard methods : summary() — time--time estimates standard errors confidence intervals plot() — base R stepwise survival/CIF curves mean() — restricted mean survival estimates confidence intervals quantile() — quantile estimates confidence intervals Furthermore, cifmodeling package provides workflow ggplot2-based visualization based survfit-compatible objects passing cifplot() cifpanel.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/02_functions.html","id":"cifpanel","dir":"Articles","previous_headings":"","what":"cifpanel()","title":"Main functions","text":"cifpanel() arranges multiple cifplot()/cifcurve() results unified grid layout consistent scales, shared legend, synchronized themes. ideal visual comparison across outcomes, time scales, strata. inset feature also allows display another plot within plot. Typical use cases - Compare CIF (event 1) vs CIF (event 2) 1×2 layout. Compare survival/CIF curves across strata shared legend matched axes. Display plot enlarged y-axis within plot scaled 0 100%. Key arguments formula formulas — one formula list formulas; entry creates panel. data, outcome.type, code.events, type.y — recycled across panels unless list supplied per-panel control. rows.columns.panel — selects grid layout c(rows, cols). inset.panel — selects inset layout. title.panel, subtitle.panel, caption.panel, title.plot — overall titles captions. tag.panel — panel tag style (e.g., “”, “”, “1”). label.x, label.y, limits.x, limits.y, breaks.x, breaks.y — shared axis control unless list supplied per-panel control. Return patchwork object (still ggplot-compatible). example usage first example, cifplot() called cifpanel() combine multiple plots. cifpanel() function creating panel multiple plots like . cifpanel() can also display one plot inside another. cumulative incidence probability macrovascular complications low, making difficult discern differences groups. following code uses inset.panel= display plot output2, enlarged vertical axis, inside plot output1. position size zoomed--view panel specified inset.left, inset.bottom, inset.right, inset.top. Zoomed--view panel using cifplot() cifpanel() code , formula data given directly, produces output .","code":"output1 <- cifplot(Event(t,epsilon) ~ fruitq,                    data = diabetes.complications,                    outcome.type=\"COMPETING-RISK\",                    code.event1=2,                    code.event2=1,                    addConfidenceInterval = FALSE,                    addRiskTable = FALSE,                    label.y=\"CIF of macrovascular complications\",                    label.x=\"Years from registration\") output2 <- cifplot(Event(t,epsilon) ~ fruitq,                    data = diabetes.complications,                    outcome.type=\"COMPETING-RISK\",                    code.event1=2,                    code.event2=1,                    addConfidenceInterval = FALSE,                    addRiskTable = FALSE,                    label.y=\"\",                    label.x=\"\",                    limits.y=c(0,0.15)) output3 <- list(a=output1, b=output2) cifpanel(plots = output3,          title.plot = c(\"Fruit intake and macrovascular complications\", \"Zoomed-in view\"),          inset.panel = TRUE,          inset.left = 0.40, inset.bottom = 0.45,          inset.right = 1.00, inset.top = 0.95,          inset.legend.position = \"none\",          legend.position = \"bottom\") cifpanel(  title.plot = c(\"Fruit intake and macrovascular complications\", \"Zoomed-in view\"),  inset.panel = TRUE,  formula = Event(t, epsilon) ~ fruitq,  data = diabetes.complications,  outcome.type = \"COMPETING-RISK\",  code.events = list(c(2,1,0), c(2,1,0)),  label.y = c(\"CIF of macrovascular complications\", \"\"),  label.x = c(\"Years from registration\", \"\"),  limits.y = list(c(0,1), c(0,0.15)),  inset.left = 0.40, inset.bottom = 0.45,  inset.right = 1.00, inset.top = 0.95,  inset.legend.position = \"none\",  legend.position = \"bottom\",   addConfidenceInterval = FALSE )"},{"path":"https://gestimation.github.io/cifmodeling/articles/02_functions.html","id":"polyreg","dir":"Articles","previous_headings":"","what":"polyreg()","title":"Main functions","text":"polyreg() implements log odds product modeling CIFs user-specified time points, focusing multiplicative effects categorical exposure, constant effects time like Cox regression Fine-Gray models. estimates multiplicative effects risk ratios, odds ratios, subdistribution hazard ratios, ensuring probabilities across competing events sum one. achieved reparameterization using polytomous log odds products, fits -called effect-measure models nuisance models multiple competing events simultaneously. Additionally, polyreg() supports direct binomial regression survival outcomes Richardson model binomial outcomes, use log odds products. function follows familiar formula + data syntax Event() Surv() outputs tidy results, including point estimates, standard errors, confidence intervals, p-values. results can easily summarized summary() combined tools modelsummary broom reporting. Key arguments nuisance.model — formula describing outcome nuisance covariates, excluding exposure interest. exposure — specifies exposure variable. argument accepts one binary categorical variable. effect.measure1 effect.measure2 — specifies effect measures event1 event2 (\"RR\", \"\" \"SHR\"). outcome.type selects outcome type (\"COMPETING-RISK\", \"SURVIVAL\", \"BINOMIAL\", \"PROPORTIONAL-SURVIVAL\" \"PROPORTIONAL-COMPETING-RISK\"). time.point — specifies time points exposure effect evaluated. Required \"COMPETING-RISK\" \"SURVIVAL\" outcomes. strata — specifies stratification variable used adjust dependent censoring. Return coefficient — regression coefficients cov — variance-covariance matrix regression coefficients diagnostic.statistics — data frame containing inverse probability weights, influence functions, predicted potential outcomes summary — summary estimated exposure effects","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/02_functions.html","id":"an-example-of-usage","dir":"Articles","previous_headings":"polyreg()","what":"An example of usage","title":"Main functions","text":"need core functionality cifcurve() polyreg(), installing Rcpp nleqslv enough; packages optional recommended reproduce examples .","code":"output <- polyreg(nuisance.model=Event(t,epsilon)~1, exposure=\"fruitq\",            data=diabetes.complications, effect.measure1=\"RR\",            effect.measure2=\"RR\", time.point=8, outcome.type=\"COMPETING-RISK\")"},{"path":"https://gestimation.github.io/cifmodeling/articles/03_polyreg.html","id":"model-specification","dir":"Articles","previous_headings":"","what":"Model specification","title":"Direct polytomous regression","text":"model polyreg() specified three main components: Nuisance model: Describes relationship outcomes covariates (excluding exposure). Effect measures time points: Defines exposure effect estimated time point interest. Censoring adjustment: Specifies strata inverse probability weighting adjust dependent censoring.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/03_polyreg.html","id":"nuisance-model","dir":"Articles","previous_headings":"","what":"1. Nuisance Model","title":"Direct polytomous regression","text":"nuisance.model argument specifies formula linking outcome covariates. format depends outcome type: Competing risks survival outcome: Use Surv() Event() time status variables. Binomial outcome: Use standard R formula notation. Default event codes: Competing risks outcome: 1 2 event types, 0 censoring. Survival outcome: 1 events, 0 censoring. Binomial outcome: 0 1. Event codes can customized using code.event1, code.event2, code.censoring. outcome.type argument must set : Effects cumulative incidence probabilities specific time: \"COMPETING-RISK\" Effects risk specific time: \"SURVIVAL\" Common effects cumulative incidence probabilities time: \"PROPORTIONAL-COMPETING-RISK\" Common effects risk time: \"PROPORTIONAL-SURVIVAL\" Effects risk binomial outcome: \"BINOMIAL\" Covariates included nuisance.model adjust confounding factors obtain unbiased exposure effect estimates.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/03_polyreg.html","id":"effect-measures-and-time-points","dir":"Articles","previous_headings":"","what":"2. Effect measures and time points","title":"Direct polytomous regression","text":"Three effect measures available: Risk ratio (RR) Odds ratio () Subdistribution hazard ratio (SHR) Set desired measure using effect.measure1 , competing risks analysis, effect.measure2. time.point argument specifies follow-time effects estimated.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/03_polyreg.html","id":"censoring-adjustment","dir":"Articles","previous_headings":"","what":"3. Censoring adjustment","title":"Direct polytomous regression","text":"Inverse probability weights adjust dependent censoring. Use strata= specify stratification variables. strata specified, Kaplan-Meier weights used.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/03_polyreg.html","id":"confidence-intervals","dir":"Articles","previous_headings":"","what":"Confidence intervals","title":"Direct polytomous regression","text":"default, polyreg() chooses single, simple confidence interval method based outcome.type: \"COMPETING-RISK\", \"SURVIVAL\", \"BINOMIAL\" — Wald CIs based sandwich variance \"PROPORTIONAL-COMPETING-RISK\", \"PROPORTIONAL-SURVIVAL\" — Bootstrap CIs (normal approximation) time-point (non-proportional) models, default Wald confidence intervals using sandwich variance directly influence functions. report.boot.conf = TRUE, variance instead estimated wild (multiplier) bootstrap applied influence functions (boot.multiplier, boot.replications), Wald confidence intervals formed bootstrap variance. common effects (proportional models), boot() refits estimator replicate forms normal-approximate confidence intervals bootstrap mean SD. desired, BCa confidence intervals can requested via boot.bca = TRUE (proportional models). Users normally need set confidence interval flags.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/03_polyreg.html","id":"return","dir":"Articles","previous_headings":"","what":"Return","title":"Direct polytomous regression","text":"function returns list object includes: coefficient — regression coefficients cov — variance-covariance matrix regression coefficients diagnostic.statistics — data frame containing inverse probability weights, influence functions, predicted potential outcomes summary — summary estimated exposure effects Use summary output msummary() display formatted results. regression coefficients variance-covariance matrix provided coefficient cov, respectively, first element corresponding intercept term, subsequent elements covariates nuisance.model, last element variable specified exposure=. Finally, diagnostic.statistics data frame containing inverse probability weights, influence functions, predicted values potential outcomes individual observations.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"example-1--unadjusted-competing-risks-analysis","dir":"Articles","previous_headings":"","what":"Example 1. Unadjusted competing risks analysis","title":"Examples","text":"initial illustration, unadjusted analysis focusing cumulative incidence diabetic retinopathy (event 1) macrovascular complications (event 2) 8 years follow-demonstrated. visualize covariate separately multiple strata supplied, set panel.per.variable = TRUE. variable right-hand side plotted panel, layout can controlled rows.columns.panel. figure contrasts cumulative incidence curves diabetic retinopathy quartiles fruitq binary exposure fruitq1, low (Q1) high (Q2 4) intake fruit, generated cifplot(). add.conf=TRUE argument adds confidence intervals plot. helps visualize statistical uncertainty estimated probabilities across exposure levels. using numeric variables stratification, discretize beforehand cut() factor(). labels x-axis (Time) y-axis (Cumulative incidence) panels default labels. Cumulative incidence curves per stratification variable second figure, censoring marks added along curve (add.censor.mark = TRUE) indicate individuals censored experiencing event. marks visualize timing frequency censoring, allowing clearer understanding loss--censoring patterns follow-. workflow differs slightly previous code. First, compute survfit-compatible object output1 using cifcurve() outcome.type=\"COMPETING-RISK\" calculating Aalen–Johansen estimator stratified fruitq1. , cifplot() used generate figure. label.y, label.x limit.x arguments also used customize axis labels limits. Cumulative incidence curves censor marks axis labels Next, competing risk marks added (add.competing.risk.mark = TRUE) indicate individuals experienced competing event (macrovascular complications) diabetic retinopathy. time points macrovascular complications occurred obtained output2 strata using helper function extract_time_to_event(). symbols help distinguish events due primary cause attributable competing causes. Note names competing.risk.time intercurrent.event.time must match strata labels used plot supplied user. Cumulative incidence curves competing risk marks label.strata another argument customizing labels, inputting survfit object, becomes invalid contain stratum information. Therefore, following code inputs formula data. label.strata used combining level.strata order.strata. level.strata specifies levels stratification variable corresponding label label.strata. levels specified level.strata displayed figure order defined order.strata. figure enclosed square generated, due style=\"FRAMED\" specification. Cumulative incidence curves strata labels FRAMED style specifying add.estimate.table=TRUE, risks diabetic retinopathy (estimates CIFs) along confidence interval shown table bottom figure risk ratios specific time point (e.g. 8 years) competing events can jointly coherently estimated using polyreg() outcome.type=\"COMPETING-RISK\". code polyreg() , covariates included nuisance model (~1 specifies intercept ). effect low fruit intake fruitq1 estimated unadjusted risk ratio (effect.measure1=\"RR\") diabetic retinopathy (event 1) macrovascular complications (event 2) 8 years (time.point=8). summaries analysis results list outputs (e.g. output3$summary ) compatible modelsummary ecosystem, makes easy create publication-ready tables variety formats. typical workflow pass summary element polyreg() fit (list fits) modelsummary::msummary(). case, regression coefficients included summary setting report.nuisance.parameter = TRUE. Model summaries can also exponentiated display risk ratios, odds ratios, subdistribution hazard ratios using exponentiate option. summaries can displayed Viewer customized statistics p-values confidence intervals.","code":"data(diabetes.complications) diabetes.complications$fruitq1 <- ifelse(   diabetes.complications$fruitq == \"Q1\",\"Q1\",\"Q2 to Q4\" ) cifplot(Event(t,epsilon)~fruitq+fruitq1, data=diabetes.complications,          outcome.type=\"COMPETING-RISK\",         add.conf=TRUE, add.censor.mark=FALSE,          add.competing.risk.mark=FALSE, panel.per.variable=TRUE) output1 <- cifcurve(Event(t,epsilon)~fruitq1, data=diabetes.complications,                      outcome.type=\"COMPETING-RISK\") cifplot(output1, add.conf=FALSE, add.risktable=FALSE,          add.censor.mark=TRUE, add.competing.risk.mark=FALSE,          label.y=\"CIF of diabetic retinopathy\", label.x=\"Years from registration\",         limits.x=c(0,8)) output2 <- extract_time_to_event(Event(t,epsilon)~fruitq1,                                   data=diabetes.complications, which_event=\"event2\") cifplot(output1, add.conf=FALSE, add.risktable=FALSE,          add.censor.mark=FALSE, add.competing.risk.mark=TRUE, competing.risk.time=output2,          label.y=\"CIF of diabetic retinopathy\", label.x=\"Years from registration\",         limits.x=c(0,8)) cifplot(Event(t,epsilon)~fruitq1, data=diabetes.complications,          outcome.type=\"COMPETING-RISK\", add.conf=FALSE, add.risktable=FALSE,          add.estimate.table=TRUE, add.censor.mark=FALSE, add.competing.risk.mark=TRUE,          competing.risk.time=output2, label.y=\"CIF of diabetic retinopathy\",          label.x=\"Years from registration\", limits.x=c(0,8),         label.strata=c(\"High intake\",\"Low intake\"), level.strata=c(\"Q2 to Q4\",\"Q1\"),          order.strata=c(\"Q1\", \"Q2 to Q4\"), style=\"FRAMED\") output3 <- polyreg(nuisance.model=Event(t,epsilon)~1, exposure=\"fruitq1\",            data=diabetes.complications, effect.measure1=\"RR\", effect.measure2=\"RR\",            time.point=8, outcome.type=\"COMPETING-RISK\",            report.nuisance.parameter=TRUE) print(output3$coefficient) #> [1] -1.38313159 -0.30043942 -3.99147406 -0.07582595 print(output3$cov) #>              [,1]         [,2]         [,3]         [,4] #> [1,]  0.017018160 -0.012351309  0.009609321 -0.008372500 #> [2,] -0.012351309  0.012789187 -0.006012254  0.006540183 #> [3,]  0.009609321 -0.006012254  0.048161715 -0.044070501 #> [4,] -0.008372500  0.006540183 -0.044070501  0.055992232"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"example-2--survival-analysis","dir":"Articles","previous_headings":"","what":"Example 2. Survival analysis","title":"Examples","text":"second example time first event analysis (outcome.type=\"SURVIVAL\") estimate effect risk diabetic retinopathy macrovascular complications 8 years. code , cifplot() directly used generate survfit-compatible object internally plot . Survival curves cifplot() code specifies Richardson model risk diabetic retinopathy macrovascular complications 8 years (outcome.type=“SURVIVAL”). Dependent censoring adjusted stratified IPCW method (strata='strata'). Estimates effects exposure (e.g. intercept) suppressed report.nuisance.parameter specified.","code":"diabetes.complications$d <- as.integer(diabetes.complications$epsilon>0) cifplot(Event(t,d) ~ fruitq1, data=diabetes.complications,  outcome.type=\"SURVIVAL\", add.conf=TRUE, add.censor.mark=FALSE,  add.competing.risk.mark=FALSE, label.y=\"Survival probability\",  label.x=\"Years from registration\", label.strata=c(\"High intake\",\"Low intake\"), level.strata=c(\"Q2 to Q4\",\"Q1\"), order.strata=c(\"Q1\", \"Q2 to Q4\")) output4 <- polyreg(nuisance.model=Event(t,d)~1,            exposure=\"fruitq1\", strata=\"strata\", data=diabetes.complications,           effect.measure1=\"RR\", time.point=8, outcome.type=\"SURVIVAL\")"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"example-3--adjusted-competing-risks-analysis","dir":"Articles","previous_headings":"","what":"Example 3. Adjusted competing risks analysis","title":"Examples","text":"code specifies polytomous log-odds models competing events (outcome.type=\"COMPETING-RISK\"). 15 covariates censoring strata specified nuisance.model= strata=, respectively.","code":"output5 <- polyreg(nuisance.model=Event(t,epsilon)~age+sex+bmi+hba1c           +diabetes_duration+drug_oha+drug_insulin+sbp+ldl+hdl+tg           +current_smoker+alcohol_drinker+ltpa,            exposure=\"fruitq1\", strata=\"strata\", data=diabetes.complications,           effect.measure1=\"RR\", time.point=8, outcome.type=\"COMPETING-RISK\")"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"example-4--description-of-cumulative-incidence-of-competing-events","dir":"Articles","previous_headings":"","what":"Example 4. Description of cumulative incidence of competing events","title":"Examples","text":"cifpanel() arranges multiple survival CIF plots single, polished layout shared legend. ’s designed side--side comparisons—e.g., event 1 vs event 2, different groupings, different y-scales—keeping axis ranges styles consistent. Internally panel produced using engine cifcurve(), can supply scalar arguments (applied panels) lists control panel independently. function accepts shared panel-specific arguments. single formula provided, model structure reused panel, arguments supplied lists applied individually panel. Arguments code.events, label.strata, add.censor.mark can given lists, list element corresponds one panel. allows flexible configuration maintaining concise readable syntax. example creates 1×2 panel (rows.columns.panel = c(1,2)) comparing cumulative incidence two competing events cohort, namely CIF diabetic retinopathy left panel CIF macrovascular complications right panel. panels stratified fruitq1, legend shared bottom. pairs code.events list instructs cifpanel() display event 1 first panel event 2 second panel, event code 0 representing censoring. Cumulative incidence curves event 1 vs event 2 using cifpanel() Arguments specified scalars (example, label.x = \"Years registration\") applied uniformly panels. Character vectors length number panels (example, label.y = c(\"Diabetic retinopathy\", \"Macrovascular complications\")) assign different label panel order. Lists provide flexibility, allowing panel distinct settings mirror arguments cifcurve(). legend.collect = TRUE option merges legends panels single shared legend, positioned according legend.position. arguments title.panel, subtitle.panel, caption.panel, title.plot control overall panel title individual subplot titles, ensuring multi-panel layouts remain consistent publication-ready.","code":"cifpanel(  rows.columns.panel = c(1,2),  formula            = Event(t, epsilon) ~ fruitq1,  data               = diabetes.complications,  outcome.type       = \"COMPETING-RISK\",  code.events        = list(c(1,2,0), c(2,1,0)),  label.y            = c(\"CIF of diabetic retinopathy\", \"CIF of macrovascular complications\"),  label.x            = \"Years from registration\",  label.strata       = list(c(\"High intake\",\"Low intake\")),  title.plot         = c(\"Diabetic retinopathy\", \"Macrovascular complications\"),  legend.position    = \"bottom\",  legend.collect     = TRUE )"},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"default","dir":"Articles","previous_headings":"Example 5. Plot customization","what":"Default","title":"Examples","text":"Default cifplot()","code":"data(diabetes.complications) diabetes.complications$d <- as.integer(diabetes.complications$epsilon>0) diabetes.complications$fruitq1 <- ifelse(   diabetes.complications$fruitq == \"Q1\",\"Q1\",\"Q2 to Q4\" )  # Default cifplot(Event(t,epsilon) ~ fruitq1,         data                    = diabetes.complications,         outcome.type            = \"COMPETING-RISK\")"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"visual-elements","dir":"Articles","previous_headings":"Example 5. Plot customization","what":"Visual elements","title":"Examples","text":"Hide confidence interval, risk table, censor marks Add table CIF estimates event-2 time marks Add event-2 time marks using external event-2 time Use (open) circle strata estimate table event-2 time marks","code":"# Hide confidence interval, risk table, and censor marks cifplot(Event(t,epsilon) ~ fruitq1,         data                    = diabetes.complications,         outcome.type            = \"COMPETING-RISK\",         add.conf = FALSE,          add.risktable           = FALSE,          add.censor.mark         = FALSE) # Add a table of CIF estimates and event-2 time marks cifplot(Event(t,epsilon) ~ fruitq1,         data                    = diabetes.complications,         outcome.type            = \"COMPETING-RISK\",         add.risktable           = FALSE,          add.estimate.table      = TRUE,          add.censor.mark         = FALSE,          add.competing.risk.mark = TRUE) # Extract event-2 time from data frame time_to_event <- extract_time_to_event(Event(t, epsilon) ~ fruitq1,                                        data = diabetes.complications, which_event = \"event2\")  # Ensure named list by strata stopifnot(is.list(time_to_event), length(time_to_event) > 0)  # Add event-2 time marks using external event-2 time  cifplot(Event(t, epsilon) ~ fruitq1,         data                    = diabetes.complications,         outcome.type            = \"COMPETING-RISK\",         add.risktable           = FALSE,         add.estimate.table      = TRUE,         add.censor.mark         = FALSE,         add.competing.risk.mark = TRUE,         competing.risk.time     = time_to_event) # Use (open) circle for strata in estimate table and event-2 time marks  cifplot(Event(t, epsilon) ~ fruitq1,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         add.risktable             = FALSE,         add.estimate.table        = TRUE,         symbol.risk.table         = \"circle\",          add.censor.mark           = FALSE,         add.competing.risk.mark   = TRUE,         shape.competing.risk.mark = 1,         size.competing.risk.mark  = 4,         competing.risk.time       = time_to_event)"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"font-style-and-palette","dir":"Articles","previous_headings":"Example 5. Plot customization","what":"Font, style and palette","title":"Examples","text":"Adjust font size Select font family, style, linewidth palette Select font family, style, linewidth palette Select font family, style, linewidth palette Select font family, style, linewidth palette","code":"# Adjust font size cifplot(Event(t,epsilon) ~ fruitq,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         add.conf                  = FALSE,          font.size                 = 16,          font.size.risk.table      = 3) # Select font family, style, linewidth and palette cifplot(Event(t,epsilon) ~ fruitq,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         add.conf                  = FALSE,          style                     = \"BOLD\",          font.family               = \"serif\",          palette                   = c(\"blue1\", \"cyan3\", \"navy\", \"deepskyblue3\")) cifplot(Event(t,epsilon) ~ fruitq,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         add.conf = FALSE,          style                     = \"FRAMED\",          font.family               = \"serif\",          linewidth                 = 1.3,          linetype                  = TRUE,          palette                   = c(\"azure4\", \"gray\", \"black\", \"darkgray\")) cifplot(Event(t,epsilon) ~ fruitq,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         add.conf                  = FALSE,          style                     = \"GRAY\",          font.family               = \"mono\",          palette                   = c(\"cyan3\", \"deepskyblue4\", \"darkseagreen2\", \"deepskyblue3\")) cifplot(Event(t,epsilon) ~ fruitq,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         add.conf                  = FALSE,          style                     = \"GGSURVFIT\",          font.family               = \"mono\",          palette                   = c(\"brown\", \"orange\", \"purple\", \"darkgoldenrod\"))"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"axis-and-label","dir":"Articles","previous_headings":"Example 5. Plot customization","what":"Axis and label","title":"Examples","text":"Customize labels explicit level mapping (safe factor order) Plot 1 - survival set axis limits","code":"# Customize labels with explicit level mapping (safe against factor order) cifplot(Event(t,d) ~ fruitq1,         data                      = diabetes.complications,         outcome.type              = \"SURVIVAL\",         label.y                   = \"Survival (no complications)\",         label.x                   = \"Years from registration\",         label.strata              = c(\"High intake\",\"Low intake\"),          level.strata              = c(\"Q2 to Q4\",\"Q1\"),          order.strata              = c(\"Q1\", \"Q2 to Q4\")) # Plot 1 - survival and set axis limits cifplot(Event(t,d) ~ fruitq1,         data                      = diabetes.complications,         outcome.type              = \"SURVIVAL\",         label.y                   = \"Risk of diabetes complications\",         label.x                   = \"Years from registration\",         label.strata              = c(\"High intake\",\"Low intake\"),          level.strata              = c(\"Q2 to Q4\",\"Q1\"),          order.strata              = c(\"Q1\", \"Q2 to Q4\"),         type.y                    = \"risk\",         limits.y                  = c(0, 0.5),         breaks.y                  = seq(0, 0.5, by=0.1),         limits.x                  = c(0, 8),         breaks.x                  = 0:8,         use.coord.cartesian       = TRUE)"},{"path":"https://gestimation.github.io/cifmodeling/articles/04_examples.html","id":"panel-mode","dir":"Articles","previous_headings":"Example 5. Plot customization","what":"Panel mode","title":"Examples","text":"Cumulative incidence curves per stratification variable Cumulative incidence curves event 1 vs event 2 Survival curves event vs censoring","code":"# Cumulative incidence curves per each stratification variable cifplot(Event(t,epsilon) ~ fruitq + fruitq1,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         panel.per.variable        = TRUE) # Cumulative incidence curves for event 1 vs event 2 cifplot(Event(t,epsilon) ~ fruitq1,         data                      = diabetes.complications,         outcome.type              = \"COMPETING-RISK\",         panel.per.event           = TRUE) # Survival curves for event vs censoring cifplot(Event(t,d) ~ fruitq1,         data                      = diabetes.complications,         outcome.type              = \"SURVIVAL\",         panel.censoring           = TRUE)"},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"comparison-of-model-formula-and-outcome-type-across-cifcurve-and-polyreg","dir":"Articles","previous_headings":"","what":"Comparison of model formula and outcome.type across cifcurve() and polyreg()","title":"Additional information","text":"Common ground functions expect Surv() Event() response left-hand side model formula follow-time event indicators supplied way. Internally helpers validate non-negative times, check event codes match user-specified code.event* arguments, derive indicators used downstream. outcome.type argument normalized utility, meaning set synonyms (e.g. \"C\", \"competing risk\", \"S\") accepted workflows mapped onto canonical labels used estimators. Key differences cifcurve() right-hand side formula defines grouping variable(s) whose curves estimated; weights () supplied separately. dedicated exposure argument strata handled formula term turned factor plotting estimation. polyreg() nuisance.model formula describes outcome nuisance covariates (.e. confounders), exposure passed separately exposure argument. exposure design matrix, reference level handling, scaling nuisance covariates handled explicitly regression fitting. cifcurve() focuses two estimands, selecting Kaplan–Meier Aalen–Johansen calculations via outcome.type = \"SURVIVAL\" \"COMPETING-RISK\". contrast, polyreg() supports additional time-constant binomial estimands (\"PROPORTIONAL-SURVIVAL\", \"PROPORTIONAL-COMPETING-RISK\", \"BINOMIAL\") enforces time-point requirements accordingly—example time.point mandatory survival/competing-risk contrasts, time-constant-effect (e.g. proportional subdistribution hazards) models can either use observed event times user-specified grid supplied via (vector) time.point.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"event-coding-conventions-in-package-cifmodeling-and-cdisc-adam-adtte","dir":"Articles","previous_headings":"","what":"Event coding conventions in package cifmodeling and CDISC ADaM ADTTE","title":"Additional information","text":"working survival data, one common source confusion arises inconsistent event coding conventions standard input Surv(), provided survival package, CDISC ADaM ADTTE (Analysis Data Model Time--Event Endpoints) used regulatory clinical trials. Surv(), event often coded 1 censoring coded 0. contrast, CDISC ADaM ADTTE (commonly used pharmaceutical submissions SDTM-based analyses) follows opposite convention. CNSR = 0 means event occurred CNSR = 1 represents censoring, aligns broader ADaM convention (1 = TRUE). accommodate differences coding conventions, one can explicitly specify event censoring codes using code.event1 code.censoring arguments cifcurve(), cifplot(), cifpanel() polyreg(). allows users perform accurate survival analysis using functions cifmodeling package maintaining CDISC ADaM ADTTE coding scheme.","code":"polyreg(Event(AVAL, CNSR) ~ ARM, data = adtte,          outcome.type = \"SURVIVAL\", code.event1=0, code.censoring=1)"},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"processing-pipeline-of-cifcurve","dir":"Articles","previous_headings":"","what":"Processing pipeline of cifcurve()","title":"Additional information","text":"user-specified model formula Event() Surv() first parsed util_read_surv() extract time--event, event indicator, optional weights, strata variable. components passed back-end estimators implemented src/calculateAJ_Rcpp.cpp. C++ routine supports weighted stratified data, heavy lifting Kaplan–Meier Aalen–Johansen estimates (associated -risk, event, censor counts) happens efficiently regardless input specified. error argument determines standard errors computed. survival data (outcome.type = \"SURVIVAL\") maps Greenwood (default) Tsiatis estimators, competing-risks data (outcome.type = \"COMPETING-RISK\") \"aalen\" reproduces classic Aalen standard errors \"delta\" implements delta method.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"variance-and-confidence-interval-options-for-cifcurve","dir":"Articles","previous_headings":"","what":"Variance and confidence interval options for cifcurve()","title":"Additional information","text":"Standard errors standard errors Kaplan–Meier estimator, default Greenwood estimator, alternatives \"tsiatis\" Tsiatis estimator Greenwood formula sum terms d/(n(n-m)), d number events given time point, n number risk, m cumulative sum events time. formula derived binomial argument, extension weighted case ad hoc. Tsiatis (1981) proposes sum terms d/(n*n), based counting process argument includes weighted case. confidence intervals cumulative incidence curves, default \"delta\" applies delta-method, \"aalen\" uses Aalen variance decomposition. default cifcurve() rescales Greenwood/Tsiatis quantities std.err reported probability scale; set report.survfit.std.err = TRUE return conventional log-survival standard errors survfit(). Confidence intervals src/calculateAJ_Rcpp.cpp constructs intervals probability scale using requested transformation: \"arcsine-square root\"/\"arcsine\"/\"\" (default), \"plain, \"log\", \"log-log\", \"logit\". Passing \"none\"/\"n\" skips interval computation entirely. function exponentiates back probability scale, clips bounds [0, 1], replaces undefined values NA interval endpoints remain well behaved plots summaries.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"processing-pipeline-of-polyreg","dir":"Articles","previous_headings":"","what":"Processing pipeline of polyreg()","title":"Additional information","text":"Input pre-processing mirrors survival workflow calling checkInput() parse event codes, exposure levels, requested estimands createAnalysisDataset() builds modeling frame reg_normalize_covariate() rescales covariates default. Starting values obtained nuisance model fits via getInitialValues() getInitialValuesProportional(), , necessary, user-supplied data frame starting values. Inverse-probability--censoring weights survival competing-risks outcomes calculated calculateIPCW(), turn wraps calculateKM() C++ routine obtain Kaplan-Meier estimates censoring, time-constant effects assemble matrices calculateIPCWMatrix(). weighted estimating equations solved solveEstimatingEquation(), dispatches specific score functions estimating_equation_ipcw(), estimating_equation_survival(), estimating_equation_proportional() iterates nleqslv/Levenberg–Marquardt updates convergence criteria assessConvergence() met. Sandwich variances come calculateCov() calculateCovSurvival() rescaled back original covariate scale reg_normalize_estimate(), optional bootstrap intervals reuse solver inside boot resampling loop. resulting influence functions, weights, fitted cumulative incidence probabilities retained diagnostic.statistics downstream diagnostics.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"reproducibility-and-conventions-for-polyreg","dir":"Articles","previous_headings":"","what":"Reproducibility and conventions for polyreg()","title":"Additional information","text":"convergence warnings appear, relax/tighten tolerances cap parameter bound (optim.parameter1 3) inspect report.optim.convergence = TRUE. necessary, try modifying optim.parameter, providing user-specified initial values, reducing number nuisance parameters (e.g. provide time.point grid contributes estimation using \"PROPORTIONAL-SURVIVAL\" \"PROPORTIONAL-COMPETING-RISK\"). Set boot.seed reproducible bootstrap results. Match CDISC ADaM conventions via code.event1 = 0, code.censoring = 1 (, applicable, code.event2 competing events).","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/05_information.html","id":"key-arguments-of-msummary-that-are-helpful-when-reporting-polyreg-results","dir":"Articles","previous_headings":"","what":"Key arguments of msummary() that are helpful when reporting polyreg() results","title":"Additional information","text":"output – controls destination table (e.g., \"markdown\", \"latex\", \"html\", file path 'results/cif_table.docx'). coef_map coef_rename – renames model terms interpretability. statistic – uncertainty summaries display. Examples: statistic = \"p.value\" p-values, statistic = \"conf.int\" Wald confidence interval, statistic = \"t\" t statistics, statistic = \"z\" z statistics, instead standard errors (default). can also supply multiple model summaries named list compare estimates across specifications single table. See vignette('modelsummary') comprehensive overview additional layout styling options.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/06_arguments.html","id":"cifcurve","dir":"Articles","previous_headings":"","what":"cifcurve()","title":"Full lists of arguments","text":"formula model formula specifying time--event outcome left-hand side (typically Event(time, status) survival::Surv(time, status)) , optionally, stratification variable right-hand side. Unlike cifplot(), function accept fitted survfit object. data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional character expression subset data analysis. na.action function specifying action take missing values. default na.omit. outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., c(\"S\", \"C\")) trigger automatic detection based event coding data. code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). error Character specifying method variance standard error used internally. \"SURVIVAL\" typically \"greenwood\". \"COMPETING-RISK\" pass options supported calculateAalenDeltaSE() (\"aalen\", \"delta\", \"none\"). conf.type Character transformation CI probability scale (default \"arcsine-square root\"). conf.int numeric two-sided confidence level (default 0.95). return_if Logical. TRUE engine = \"calculateAJ_Rcpp\", influence function also computed returned (default FALSE). report.survfit.std.err Logical. TRUE, report SE log-survival scale (survfit’s convention). Otherwise SE probability scale. engine Character. One \"auto\", \"calculateKM\", \"calculateAJ_Rcpp\" (default \"calculateAJ_Rcpp\"). prob.bound Numeric lower bound used internally truncate probabilities away 0 1 (default 1e-7).","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/06_arguments.html","id":"cifplot","dir":"Articles","previous_headings":"","what":"cifplot()","title":"Full lists of arguments","text":"formula_or_fit model formula survfit object. Note: formula supplied, left-hand side must Event(time, status) survival::Surv(time, status). data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional character expression subset data analysis. na.action function specifying action take missing values. default na.omit. outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., c(\"S\", \"C\")) trigger automatic detection based event coding data. code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). error Character specifying method variance standard error used internally. \"SURVIVAL\" typically \"greenwood\". \"COMPETING-RISK\" pass options supported calculateAalenDeltaSE() (\"aalen\", \"delta\", \"none\"). conf.type Character transformation CI probability scale (default \"arcsine-square root\"). conf.int numeric two-sided confidence level (default 0.95). type.y Optional vector/list per panel: \"surv\" \"risk\" (display 1 - survival .e. CIF). label.x Character x-axis labels (default \"Time\"). label.y Character y-axis labels (default internally set \"Survival\" \"Cumulative incidence\"). label.strata Character vector labels strata. order.strata Optional ordering strata levels. panel.per.variable = TRUE, supply named list list(var = c(\"L1\",\"L2\",...)) RHS variable; unmatched levels dropped. panel.per.variable = FALSE, supply character vector c(\"L1\",\"L2\",...) specifies display order (legend/risktable) single stratification factor. Levels listed dropped. label.strata named vector, names must match (re-ordered) levels. limits.x Numeric length-2 vectors axis limits. NULL internally set c(0,max(out_readSurv$t)). limits.y Numeric length-2 vectors axis limits. NULL internally set c(0,1). breaks.x Numeric vectors axis breaks (default NULL). breaks.y Numeric vectors axis breaks (default NULL). use.coord.cartesian Logical specify use coord_cartesian() (default FALSE). add.conf Logical add add_confidence_interval() plot. calls geom_ribbon() (default TRUE). add.risktable Logical add add_risktable(risktable_stats=\"n.risk\") plot (default TRUE). add.estimate.table Logical add add_risktable(risktable_stats=\"estimate (conf.low, conf.high)\") plot (default FALSE). symbol.risk.table Character specifying symbol used risk table denote strata: \"square\", \"circle\", \"triangle\" (default \"square\"). font.size.risk.table Numeric font size texts risk / estimate tables (default 3). add.censor.mark Logical add add_censor_mark() plot. calls geom_point() (default TRUE). shape.censor.mark Integer point shape censor marks (default 3). size.censor.mark Numeric point size censor marks (default 2). add.competing.risk.mark Logical add time marks describe event2 specified Event(), usually competing events. calls geom_point() (default TRUE). competing.risk.time Named list numeric vectors (names must mapped strata labels). shape.competing.risk.mark Integer point shape competing-risk marks (default 16). size.competing.risk.mark Numeric point size competing-risk marks (default 2). add.intercurrent.event.mark Logical overlay user-specified time marks per strata calls geom_point() (default TRUE). intercurrent.event.time Named list numeric vectors (names must mapped strata labels). shape.intercurrent.event.mark Integer point shape intercurrent-event marks (default 1). size.intercurrent.event.mark Numeric point size intercurrent-event marks (default 2). add.quantile Logical add add_quantile() plot. calls geom_segment() (default TRUE). level.quantile Numeric quantile level add_quantile() (default 0.5). panel.per.event Logical. Explicit panel mode. TRUE outcome.type == \"COMPETING-RISK\", cifplot() internally calls cifpanel() display two event-specific CIFs side--side (event 1 event 2) using reversed code.events. Ignored non-competing-risk outcomes. panel.censoring Logical. Explicit panel mode. TRUE outcome.type == \"SURVIVAL\", cifplot() internally calls cifpanel() display KM-type curves (event, censor) (censor, event) censoring patterns can inspected. panel.per.variable Logical. Explicit panel mode. TRUE right-hand side formula multiple covariates (e.g. ~ + b + c), function produces panel variable RHS used stratification factor. panel.mode Character specifying Automatic panel mode. \"auto\" none panel.per.variable, panel.per.event, panel.censoring set TRUE, function chooses suitable panel mode automatically: () formula RHS 2+ variables, behaves like panel.per.variable = TRUE; (ii) otherwise, outcome.type == \"COMPETING-RISK\", behaves like panel.per.event = TRUE; (iii) otherwise, outcome.type == \"SURVIVAL\", behaves like panel.censoring = TRUE. panel mode explicitly specified, panel.mode ignored. rows.columns.panel Optional integer vector c(nrow, ncol) controlling panel layout. NULL, automatic layout used. style Character plot theme controls (default \"CLASSIC\"). palette Optional character vector specify color palette, e.g. palette=c(\"blue\", \"cyan\", \"navy\", \"green\") (default NULL). linewidth Optional numeric specifying line width curve (default 0.8). linetype Optional logical using different line types curve (default \\code{FALSE`). font.family Character plot theme controls (e.g. \"sans\", \"serif\", \"mono\". default \"sans\"). font.size Integer plot theme controls (default 12). legend.position Character specify position legend: \"top\", \"right\", \"bottom\", \"left\", \"none\" (default \"top\"). filename.ggsave Character save ggsurvfit plot path name specified. width.ggsave Numeric specify width ggsurvfit plot. height.ggsave Numeric specify height ggsurvfit plot. dpi.ggsave Numeric specify dpi ggsurvfit plot.","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/06_arguments.html","id":"cifpanel","dir":"Articles","previous_headings":"","what":"cifpanel()","title":"Full lists of arguments","text":"formula model formula specifying time--event outcome left-hand side (typically Event(time, status) survival::Surv(time, status)) , optionally, stratification variable right-hand side. Unlike cifplot(), function accept fitted survfit object. formulas list formulas (one per panel). provided, overrides formula. data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional character expression subset data analysis. na.action function specifying action take missing values. default na.omit. outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., c(\"S\", \"C\")) trigger automatic detection based event coding data. code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). code.events Optional numeric length-3 vector c(event1, event2, censoring). supplied, overrides code.event1, code.event2, code.censoring (primarily used cifpanel() called panel.per.event = TRUE). error Character specifying method variance standard error used internally. \"SURVIVAL\" typically \"greenwood\". \"COMPETING-RISK\" pass options supported calculateAalenDeltaSE() (\"aalen\", \"delta\", \"none\"). conf.type Character transformation CI probability scale (default \"arcsine-square root\"). conf.int numeric two-sided confidence level (default 0.95). type.y Optional vector/list per panel: \"surv\" \"risk\" (display 1 - survival .e. CIF). label.x, label.y Optional vectors/lists axis labels per panel. label.strata Optional list character vectors legend labels per panel (passed cifplot()). order.strata Optional list character vectors ordering labels per panel (passed cifplot()). limits.x, limits.y Optional vectors/lists numeric length-2 axis limits per panel. breaks.x, breaks.y Optional vectors/lists axis breaks per panel (forwarded breaks.x / breaks.y cifplot()). add.conf, add.censor.mark, add.competing.risk.mark, add.intercurrent.event.mark, add.quantile Optional logical vectors/lists per panel toggle features cifplot(). NULL, sensible defaults used (CI/Censor ; others ). rows.columns.panel Integer vector c(nrow, ncol) specifying grid size. title.panel, subtitle.panel, caption.panel Optional strings panel annotation. tag.panel Passed patchwork::plot_annotation(tag_levels = ...). title.plot Optional length-2 character vector, titles base/inset plots inset.panel = TRUE. legend.position Position legends: \"top\", \"right\", \"bottom\", \"left\", \"none\". legend.collect TRUE (grid mode), collect legends across subplots. inset.panel TRUE, place second plot inset first. inset.left, inset.bottom, inset.right, inset.top Numeric positions (0–1) inset box. inset.align.One \"panel\", \"plot\", \"full\". inset.legend.position Legend position inset plot (e.g., \"none\"). filename.ggsave Character save composed panel path name specified. width.ggsave Numeric specify width composed panel. height.ggsave Numeric specify height composed panel. dpi.ggsave Numeric specify dpi composed panel. print.panel Logical. TRUE, composed patchwork object printed immediately (interactive use). FALSE, object returned invisibly can assigned, modified, saved. Kept backward compatibility. engine Character scalar selecting internal plotting engine. Currently \"cifplot\" supported used construct panel cifplot_single(). argument reserved future extensions. ... Additional arguments forwarded cifplot (e.g., style, font.family, font.size, etc.). Panel-wise overrides provided via explicit arguments take precedence ....","code":""},{"path":"https://gestimation.github.io/cifmodeling/articles/06_arguments.html","id":"polyreg","dir":"Articles","previous_headings":"","what":"polyreg()","title":"Full lists of arguments","text":"nuisance.model formula describing outcome nuisance covariates, excluding exposure interest. left-hand side must Event(time, status) survival::Surv(time, status). exposure character string giving name categorical exposure variable data. strata Optional character string name stratification variable used adjust dependent censoring (default NULL). data data frame containing outcome, exposure nuisance covariates referenced nuisance.model. subset.condition Optional expression (character string) defining subset data analyze (default NULL). code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). code.exposure.ref Integer code identifying reference exposure category (default 0). effect.measure1 Character string specifying effect measure primary event. Supported values \"RR\", \"\" \"SHR\". effect.measure2 Character string specifying effect measure competing event. Supported values \"RR\", \"\" \"SHR\". time.point Numeric time point exposure effect evaluated. Required survival competing risk analyses. outcome.type Character string selecting outcome type. Valid values \"COMPETING-RISK\", \"SURVIVAL\", \"BINOMIAL\", \"PROPORTIONAL-SURVIVAL\" \"PROPORTIONAL-COMPETING-RISK\". Defaults \"COMPETING-RISK\". NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., c(\"S\", \"C\")) trigger automatic detection based event coding data. conf.int numeric two-sided confidence level (default 0.95). report.nuisance.parameter Logical TRUE, returned object includes estimates nuisance model parameters (default FALSE). report.optim.convergence Logical TRUE, optimization convergence summaries returned (default FALSE). report.sandwich.conf Logical NULL. TRUE, confidence intervals based sandwich variance computed. FALSE, omitted (default TRUE). confidence interval default time-point models (\"outcome.type=COMPETING-RISK\", \"SURVIVAL\" \"BINOMIAL\") available otherwise. report.boot.conf Logical NULL. TRUE, bootstrap confidence intervals computed. FALSE, omitted. NULL, function chooses based outcome.type (default NULL). confidence interval default proportional models (outcome.type=\"PROPORTIONAL-COMPETING-RISK\" \"PROPORTIONAL-SURVIVAL\"). boot.bca Logical indicating bootstrap confidence interval method. Use TRUE bias-corrected accelerated intervals FALSE normal approximation (default FALSE). boot.replications Integer giving number bootstrap replications (default 200). boot.seed Numeric seed used resampling bootstrap. nleqslv.method Character string specifying solver used nleqslv(). Available choices \"Broyden\" \"Newton\". optim.parameter1 Numeric tolerance convergence outer loop (default 1e-6). optim.parameter2 Numeric tolerance convergence inner loop (default 1e-6). optim.parameter3 Numeric constraint absolute value parameters (default 100). optim.parameter4 Integer maximum number outer loop iterations (default 50). optim.parameter5 Integer maximum number nleqslv() iterations per outer iteration (default 50). optim.parameter6 Integer maximum number iterations Levenberg-Marquardt routine (default 50). optim.parameter7 Numeric convergence tolerance Levenberg-Marquardt routine (default 1e-10). optim.parameter8 Numeric tolerance updating Hessian Levenberg-Marquardt routine (default 1e-6). optim.parameter9 Numeric starting value Levenberg-Marquardt damping parameter lambda (default 1e-6). optim.parameter10 Numeric upper bound lambda Levenberg-Marquardt routine (default 40). optim.parameter11 Numeric lower bound lambda Levenberg-Marquardt routine (default 0.025). optim.parameter12 Numeric multiplicative increment applied lambda Levenberg-Marquardt step successful (default 2). optim.parameter13 Numeric multiplicative decrement applied lambda Levenberg-Marquardt step unsuccessful (default 0.5). data.initial.values Optional data frame providing starting values optimization (default NULL). normalize.covariate Logical indicating whether covariates centered scaled prior optimization (default TRUE). terminate.time.point Logical indicating whether time points contribute estimation terminated min max follow-times exposure level (default TRUE). prob.bound Numeric lower bound used internally truncate probabilities away 0 1 (default 1e-7).","code":""},{"path":"https://gestimation.github.io/cifmodeling/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Shiro Tanaka. Author, maintainer, copyright holder.","code":""},{"path":"https://gestimation.github.io/cifmodeling/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tanaka S (2025). cifmodeling: Visualize Cumulative Incidence Functions Fit Coherent Regression Models Based Polytomous Log Odds Products. R package version 0.7.0, https://github.com/gestimation/cifmodeling, https://gestimation.github.io/cifmodeling/.","code":"@Manual{,   title = {cifmodeling: Visualize Cumulative Incidence Functions and Fit Coherent Regression Models Based on Polytomous Log Odds Products},   author = {Shiro Tanaka},   year = {2025},   note = {R package version 0.7.0, https://github.com/gestimation/cifmodeling},   url = {https://gestimation.github.io/cifmodeling/}, }"},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"cifmodeling","text":"package compact unified toolkit Kaplan–Meier/Aalen–Johansen curves, visualization, direct polytomous regression survival competing risks data.  example code snippet applying cifplot() visualize Aalen–Johansen cumulative incidence functions (CIFs). competing risks data, censoring often coded 0, events interest 1, competing risks 2. variable epsilon diabetes.complications data frame represents occurrence competing risks according coding scheme. setting panel.per.event=TRUE, CIF curve diabetic retinopathy (epsilon=1) output left macrovascular complications (epsilon=2) right.","code":"library(cifmodeling) data(diabetes.complications) cifplot(Event(t,epsilon) ~ fruitq, data=diabetes.complications,          outcome.type=\"COMPETING-RISK\", panel.per.event=TRUE)"},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"cifmodeling","text":"clinical epidemiological research, analysts often need handle censoring, competing risks, intercurrent events (e.g., treatment switching), existing R packages typically separate tasks different interfaces. cifmodeling provides unified, publication-ready toolkit integrates description survival CIF curves, regression modeling, visualization survival competing risks data. covers nonparametric estimation regression modeling CIFs, centered around three tightly connected functions. cifplot() typically generates survival cumulative incidence curve marks represent censoring, competing risks intercurrent events. Multiple variance estimators confidence interval methods supported. Visualization relies ggsurvfit/ggplot2. cifpanel() generates multi-panel figure survival/CIF curves, arranged either grid layout inset overlay. polyreg() fits coherent regression models CIFs based polytomous log odds products stratified IPCW estimator. function particularly well-suited causal inference terms typical effect measures, namely risk ratios, odds ratios, subdistribution hazard ratios, competing risks, survival, binary outcome. functions adopt formula + data syntax, return tidy, publication-ready outputs, integrate seamlessly ggsurvfit modelsummary visualization.","code":""},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"cifmodeling","text":"package implemented R relies Rcpp, nleqslv boot numerical back-end. examples README also use ggplot2, ggsurvfit, patchwork modelsummary tabulation plotting. Install core package companion packages :","code":"install.packages(\"Rcpp\") install.packages(\"nleqslv\") install.packages(\"boot\") install.packages(\"ggplot2\") install.packages(\"ggsurvfit\") install.packages(\"patchwork\") install.packages(\"modelsummary\") devtools::install_github(\"gestimation/cifmodeling\")"},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"interoperability","dir":"","previous_headings":"","what":"Interoperability","title":"cifmodeling","text":"several excellent R packages survival competing-risk analysis. survival package provides canonical API time--event data. combination ggsurvfit, survival::survfit() can generate publication-ready survival plots. cumulative incidence (CIF) plots, integration general ecosystem streamlined; cifmodeling fills gap offering cifplot() survival/CIF plots multi-panel figures via single, unified interface. need fine-grained plot customization, compute estimator keep survfit-compatible object cifcurve() (supply survfit object) style using ggsurvfit/ggplot2 layers. words, use cifcurve() estimation, cifplot()/cifpanel() quick high-quality figures, fall back ggplot ecosystem want full artistic control. interval estimation, cifcurve() mirrors confidence-interval options survival::survfit() survival curves adds delta aalen options CIFs. defaults cifmodeling chosen external internal simulation evidence; sensible applications, still allowing experts override needed. mets package specialized toolkit provides advanced statistical methods competing risk analysis. cifmodeling::polyreg() focuses coherent modeling CIFs simultaneously estimate RR//SHR user-specified times; coherence can come longer runtimes large problems. prefer fitting separate regression models competing event need Fine–Gray specifically, mets::cifreg() (mets::binreg() RR estimation) excellent choices.","code":""},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"quality-control","dir":"","previous_headings":"","what":"Quality control","title":"cifmodeling","text":"cifmodeling includes extensive test suite built testthat, ensuring numerical accuracy graphical consistency core functions (cifcurve, cifplot, cifpanel, polyreg). package continuously tested GitHub Actions (Windows, macOS, Linux) maintain reproducibility CRAN-level compliance.","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"cifplot","dir":"","previous_headings":"Main functions","what":"cifplot()","title":"cifmodeling","text":"function produces Kaplan–Meier survival Aalen–Johansen cumulative incidence curve unified formula + data interface. auto-labels axes based outcome.type type.y (\"risk\" 1-survival CIF), can add censoring/competing-risk/intercurrent-event marks, returns regular ggplot object (compatible + %+%). may also pass survfit-compatible object directly. Typical use cases Draw one survival/CIF curve set exposure groups (e.g., treatment vs control). Call cifpanel() simplified code create panel displaying plots multiple stratified survival/CIF curves CIF curves event type. Add confidence intervals censor/competing-risk/intercurrent-event marks. Add risk table display number risk estimated survival probabilities CIFs 95% confidence intervals point time. Key arguments shared cifcurve() formula model formula specifying time--event outcome left-hand side (Event(time, status) Surv(time, status)) , optionally, stratification variable right-hand side. outcome.type = \"SURVIVAL\" → Kaplan–Meier estimator outcome.type = \"COMPETING-RISK\" → Aalen–Johansen estimator conf.int sets two-sided level (default 0.95) conf.type chooses transformation (\"arcsine-square root\", \"plain\", \"log\", \"log-log\", \"logit\", \"none\") error chooses estimator standard error (\"greenwood\" \"tsiatis\" survival curves \"delta\" \"aalen\" CIFs) Key arguments cifplot() add.conf adds confidence intervals ggplot2-based plot add.competing.risk.mark add.intercurrent.event.mark add symbols describe competing risks intercurrent events addition conventional censoring marks add.censor.mark add.risktable adds numbers risk add.estimate.table adds estimates 95% confidence interval add.quantile adds line represents median selected quantile level type.y chooses y-axis (\"surv\" survival \"risk\" 1-survival/CIF) limits.x, limits.y, breaks.x, breaks.y numeric vectors axis control style specifies appearance plot (\"CLASSIC\", \"BOLD\", \"FRAMED\", \"GRID\", \"GRAY\" \"GGSURVFIT\") palette specifies color curve (e.g. palette=c(\"blue1\", \"cyan3\", \"navy\", \"deepskyblue3\"))) panel.per.variable produces multiple survival/CIF curves per stratification variable specified formula panel.per.event produces CIF curves event type panel.censoring produces KM-type curves (event, censor) (censor, event) censoring patterns can inspected panel.mode uses automatic panel mode Return ggplot object. hood: cifcurve() cifplot() streamlined, opinionated wrapper around cifcurve(), calculates Kaplan–Meier estimator Aalen–Johansen estimator. cifcurve() returns survfit-compatible object, enabling independent use standard methods : summary() — time--time estimates standard errors confidence intervals plot() — base R stepwise survival/CIF curves mean() — restricted mean survival estimates confidence intervals quantile() — quantile estimates confidence intervals Furthermore, cifmodeling package provides workflow ggplot2-based visualization based survfit-compatible objects passing cifplot() cifpanel.","code":""},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"cifpanel","dir":"","previous_headings":"Main functions","what":"cifpanel()","title":"cifmodeling","text":"cifpanel() arranges multiple cifplot()/cifcurve() results unified grid layout consistent scales, shared legend, synchronized themes. ideal visual comparison across outcomes, time scales, strata. inset feature also allows display another plot within plot. Typical use cases - Compare CIF (event 1) vs CIF (event 2) 1×2 layout. Compare survival/CIF curves across strata shared legend matched axes. Display plot enlarged y-axis within plot scaled 0 100%. Key arguments formula formulas — one formula list formulas; entry creates panel. data, outcome.type, code.events, type.y — recycled across panels unless list supplied per-panel control. rows.columns.panel — selects grid layout c(rows, cols). inset.panel — selects inset layout. title.panel, subtitle.panel, caption.panel, title.plot — overall titles captions. tag.panel — panel tag style (e.g., “”, “”, “1”). label.x, label.y, limits.x, limits.y, breaks.x, breaks.y — shared axis control unless list supplied per-panel control. Return patchwork object (still ggplot-compatible). example usage first example, cifplot() called cifpanel() combine multiple plots. cifpanel() function creating panel multiple plots like . cifpanel() can also display one plot inside another. cumulative incidence probability macrovascular complications low, making difficult discern differences groups. following code uses inset.panel= display plot output2, enlarged vertical axis, inside plot output1. position size zoomed--view panel specified inset.left, inset.bottom, inset.right, inset.top.  code , formula data given directly, produces output .","code":"output1 <- cifplot(Event(t,epsilon) ~ fruitq,                    data = diabetes.complications,                    outcome.type=\"COMPETING-RISK\",                    code.event1=2,                    code.event2=1,                    add.conf = FALSE,                    add.risktable = FALSE,                    label.y=\"CIF of macrovascular complications\",                    label.x=\"Years from registration\") output2 <- cifplot(Event(t,epsilon) ~ fruitq,                    data = diabetes.complications,                    outcome.type=\"COMPETING-RISK\",                    code.event1=2,                    code.event2=1,                    add.conf = FALSE,                    add.risktable = FALSE,                    label.y=\"\",                    label.x=\"\",                    limits.y=c(0,0.15)) output3 <- list(a=output1, b=output2) cifpanel(plots = output3,          title.plot = c(\"Fruit intake and macrovascular complications\", \"Zoomed-in view\"),          inset.panel = TRUE,          inset.left = 0.40, inset.bottom = 0.45,          inset.right = 1.00, inset.top = 0.95,          inset.legend.position = \"none\",          legend.position = \"bottom\") cifpanel(  title.plot = c(\"Fruit intake and macrovascular complications\", \"Zoomed-in view\"),  inset.panel = TRUE,  formula = Event(t, epsilon) ~ fruitq,  data = diabetes.complications,  outcome.type = \"COMPETING-RISK\",  code.events = list(c(2,1,0), c(2,1,0)),  label.y = c(\"CIF of macrovascular complications\", \"\"),  label.x = c(\"Years from registration\", \"\"),  limits.y = list(c(0,1), c(0,0.15)),  inset.left = 0.40, inset.bottom = 0.45,  inset.right = 1.00, inset.top = 0.95,  inset.legend.position = \"none\",  legend.position = \"bottom\",   add.conf = FALSE )"},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"polyreg","dir":"","previous_headings":"Main functions","what":"polyreg()","title":"cifmodeling","text":"polyreg() implements log odds product modeling CIFs user-specified time points, focusing multiplicative effects categorical exposure, constant effects time like Cox regression Fine-Gray models. estimates multiplicative effects risk ratios, odds ratios, subdistribution hazard ratios, ensuring probabilities across competing events sum one. achieved reparameterization using polytomous log odds products, fits -called effect-measure models nuisance models multiple competing events simultaneously. Additionally, polyreg() supports direct binomial regression survival outcomes Richardson model binomial outcomes, use log odds products. function follows familiar formula + data syntax Event() Surv() outputs tidy results, including point estimates, standard errors, confidence intervals, p-values. results can easily summarized summary() combined tools modelsummary broom reporting. Key arguments nuisance.model — formula describing outcome nuisance covariates, excluding exposure interest. exposure — specifies exposure variable. argument accepts one binary categorical variable. effect.measure1 effect.measure2 — specifies effect measures event1 event2 (\"RR\", \"\" \"SHR\"). outcome.type selects outcome type (\"COMPETING-RISK\", \"SURVIVAL\", \"BINOMIAL\", \"PROPORTIONAL-SURVIVAL\" \"PROPORTIONAL-COMPETING-RISK\"). time.point — specifies time points exposure effect evaluated. Required \"COMPETING-RISK\" \"SURVIVAL\" outcomes. strata — specifies stratification variable used adjust dependent censoring. Return coefficient — regression coefficients cov — variance-covariance matrix regression coefficients diagnostic.statistics — data frame containing inverse probability weights, influence functions, predicted potential outcomes summary — summary estimated exposure effects","code":""},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"example1-unadjusted-competing-risks-analysis","dir":"","previous_headings":"","what":"Example1. Unadjusted competing risks analysis","title":"cifmodeling","text":"initial illustration, unadjusted analysis focusing cumulative incidence diabetic retinopathy (event 1) macrovascular complications (event 2) 8 years follow-demonstrated. visualize covariate separately multiple strata supplied, set panel.per.variable = TRUE. variable right-hand side plotted panel, layout can controlled rows.columns.panel. figure contrasts cumulative incidence curves diabetic retinopathy quartile fruitq1 binary exposure fruitq1, low (Q1) high (Q2 4) intake fruit, generated cifplot(). add.conf=TRUE argument adds confidence intervals plot. helps visualize statistical uncertainty estimated probabilities across exposure levels. using numeric variables stratification, discretize beforehand cut() factor(). labels x-axis (Time) y-axis (Cumulative incidence) panels default labels.  second graph, censoring marks added along curve (add.censor.mark = TRUE) indicate individuals censored experiencing event. marks visualize timing frequency censoring, allowing clearer understanding loss--censoring patterns follow-. workflow differs slightly previous code. First, compute survfit-compatible object output1 using cifcurve() outcome.type=\"COMPETING-RISK\" calculating Aalen–Johansen estimator stratified fruitq1. , cifplot() used generate figure. label.y, label.x limit.x arguments also used customize axis labels limits.  Next, competing risk marks added (add.competing.risk.mark = TRUE) indicate individuals experienced competing event (macrovascular complications) diabetic retinopathy. time points macrovascular complications occurred obtained output2 strata using helper function extract_time_to_event(). symbols help distinguish events due primary cause attributable competing causes. Note names competing.risk.time intercurrent.event.time must match strata labels used plot supplied user.  label.strata another argument customizing labels, inputting survfit object, becomes invalid contain stratum information. Therefore, following code inputs formula data. label.strata used combining level.strata order.strata. level.strata specifies levels stratification variable corresponding label label.strata. levels specified level.strata displayed graph order defined order.strata. graph enclosed square generated, due style=\"FRAMED\" specification.  specifying add.estimate.table=TRUE, risks diabetic retinopathy (estimates CIFs) along confidence interval shown table bottom graph. risk ratios specific time point (e.g. 8 years) competing events can jointly coherently estimated using polyreg() outcome.type=\"COMPETING-RISK\". code polyreg() , covariates included nuisance model (~1 specifies intercept ). effect low fruit intake fruitq1 estimated unadjusted risk ratio (effect.measure1=\"RR\") diabetic retinopathy (event 1) macrovascular complications (event 2) 8 years (time.point=8). summaries analysis results list outputs (e.g. output3$summary ) compatible modelsummary ecosystem, makes easy create publication-ready tables variety formats. typical workflow pass summary element polyreg() fit (list fits) modelsummary::msummary(). case, regression coefficients included summary setting report.nuisance.parameter = TRUE. Model summaries can also exponentiated display risk ratios, odds ratios, subdistribution hazard ratios using exponentiate option. summaries can displayed Viewer customized statistics p-values confidence intervals.","code":"data(diabetes.complications) diabetes.complications$fruitq1 <- ifelse(   diabetes.complications$fruitq == \"Q1\",\"Q1\",\"Q2 to Q4\" ) cifplot(Event(t,epsilon)~fruitq+fruitq1, data=diabetes.complications,          outcome.type=\"COMPETING-RISK\",         add.conf=TRUE, add.censor.mark=FALSE,          add.competing.risk.mark=FALSE, panel.per.variable = TRUE) output1 <- cifcurve(Event(t,epsilon)~fruitq1, data=diabetes.complications,                      outcome.type=\"COMPETING-RISK\") cifplot(output1, add.conf=FALSE, add.risktable=FALSE,          add.censor.mark=TRUE, add.competing.risk.mark=FALSE,          label.y=\"CIF of diabetic retinopathy\", label.x=\"Years from registration\",         limits.x=c(0,8)) output2 <- extract_time_to_event(Event(t,epsilon)~fruitq1,                                   data=diabetes.complications, which_event=\"event2\") cifplot(output1, add.conf=FALSE, add.risktable=FALSE,          add.censor.mark=FALSE, add.competing.risk.mark=TRUE, competing.risk.time=output2,          label.y=\"CIF of diabetic retinopathy\", label.x=\"Years from registration\",         limits.x=c(0,8)) cifplot(Event(t,epsilon)~fruitq1, data=diabetes.complications,          outcome.type=\"COMPETING-RISK\", add.conf=FALSE, add.risktable=FALSE,          add.estimate.table=TRUE, add.censor.mark=FALSE, add.competing.risk.mark=TRUE,          competing.risk.time=output2, label.y=\"CIF of diabetic retinopathy\",          label.x=\"Years from registration\", limits.x=c(0,8),         label.strata=c(\"High intake\",\"Low intake\"), level.strata=c(\"Q2 to Q4\",\"Q1\"),          order.strata=c(\"Q1\", \"Q2 to Q4\"), style=\"FRAMED\") output3 <- polyreg(nuisance.model=Event(t,epsilon)~1, exposure=\"fruitq1\",            data=diabetes.complications, effect.measure1=\"RR\", effect.measure2=\"RR\",            time.point=8, outcome.type=\"COMPETING-RISK\",            report.nuisance.parameter=TRUE) print(output3$coefficient) #> [1] -1.38313159 -0.30043942 -3.99147406 -0.07582595 print(output3$cov) #>              [,1]         [,2]         [,3]         [,4] #> [1,]  0.017018160 -0.012351309  0.009609321 -0.008372500 #> [2,] -0.012351309  0.012789187 -0.006012254  0.006540183 #> [3,]  0.009609321 -0.006012254  0.048161715 -0.044070501 #> [4,] -0.008372500  0.006540183 -0.044070501  0.055992232 msummary(output3$summary, statistic = c(\"conf.int\", \"p.value\"), exponentiate = TRUE)"},{"path":"https://gestimation.github.io/cifmodeling/index.html","id":"example-2-survival-analysis","dir":"","previous_headings":"","what":"Example 2. Survival analysis","title":"cifmodeling","text":"second example time first event analysis (outcome.type=\"SURVIVAL\") estimate effect risk diabetic retinopathy macrovascular complications 8 years. code , cifplot() directly used generate survfit-compatible object internally plot .  code specifies Richardson model risk diabetic retinopathy macrovascular complications 8 years (outcome.type=“SURVIVAL”). Dependent censoring adjusted stratified IPCW method (strata='strata'). Estimates effects exposure (e.g. intercept) suppressed report.nuisance.parameter specified.","code":"diabetes.complications$d <- as.integer(diabetes.complications$epsilon>0) cifplot(Event(t,d)~fruitq1, data=diabetes.complications,  outcome.type=\"SURVIVAL\", add.conf=TRUE, add.censor.mark=FALSE,  add.competing.risk.mark=FALSE, label.y=\"Survival probability\",  label.x=\"Years from registration\", label.strata=c(\"High intake\",\"Low intake\")) output4 <- polyreg(nuisance.model=Event(t,d)~1,            exposure=\"fruitq1\", strata=\"strata\", data=diabetes.complications,           effect.measure1=\"RR\", time.point=8, outcome.type=\"SURVIVAL\") msummary(output4$summary, statistic=c(\"conf.int\", \"p.value\"), exponentiate=TRUE)"},{"path":"https://gestimation.github.io/cifmodeling/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 cifmodeling authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cif-stat-arguments.html","id":null,"dir":"Reference","previous_headings":"","what":"Common data / outcome arguments for CIF functions — cif-stat-arguments","title":"Common data / outcome arguments for CIF functions — cif-stat-arguments","text":"arguments shared cifplot(), cifpanel(), cifcurve().","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cif-stat-arguments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Common data / outcome arguments for CIF functions — cif-stat-arguments","text":"data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional expression (character string) defining subset data analyze (default NULL). na.action function specifying action take missing values (default na.omit). outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., \"c(\"S\", \"C\")\" trigger automatic detection based event coding. code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). error Character specifying method variance standard error used internally. conf.type Character specifying method transformation confidence intervals used internally. conf.int Numeric two-sided confidence level (default 0.95).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cif-visual-arguments.html","id":null,"dir":"Reference","previous_headings":"","what":"Common visual arguments for CIF functions — cif-visual-arguments","title":"Common visual arguments for CIF functions — cif-visual-arguments","text":"arguments shared cifplot(), cifpanel(), cifcurve().","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cif-visual-arguments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Common visual arguments for CIF functions — cif-visual-arguments","text":"type.y Optional vector/list per panel: \"surv\" \"risk\" (display 1 - survival .e. CIF). label.x Character x-axis label (default \"Time\"). label.y Character y-axis label (default chosen automatically outcome.type type.y, e.g. “Survival” “Cumulative incidence”). limits.x Numeric length-2 vector specifying x-axis limits. NULL, set fitted object (typically c(0, max(time))). limits.y Numeric length-2 vector specifying y-axis limits. NULL, set c(0, 1) probability-type outcomes. breaks.x Numeric vector x-axis breaks (default NULL). breaks.y Numeric vector y-axis breaks (default NULL). use.coord.cartesian Logical; TRUE, uses coord_cartesian() zooming instead changing scale limits (default FALSE). add.conf Logical; TRUE, adds confidence-interval ribbon (via ggsurvfit::add_confidence_interval()). Default TRUE. add.censor.mark Logical; TRUE, draws censoring marks curve (via ggsurvfit::add_censor_mark()). Default TRUE. shape.censor.mark Integer point shape used censoring marks (default 3). size.censor.mark Numeric point size used censoring marks (default 2). add.competing.risk.mark Logical; TRUE, draws time marks competing event (event 2). times supplied via competing.risk.time, function tries extract automatically data. Default FALSE. competing.risk.time named list numeric vectors. name must correspond strata label, numeric vector gives times competing event occurred stratum. Typically left list() filled internally. shape.competing.risk.mark Integer point shape competing-risk marks (default 16). size.competing.risk.mark Numeric point size competing-risk marks (default 2). add.intercurrent.event.mark Logical; TRUE, overlays user-specified intercurrent-event times per stratum. Default FALSE. intercurrent.event.time named list numeric vectors intercurrent events (names must match strata labels). shape.intercurrent.event.mark Integer point shape intercurrent-event marks (default 1). size.intercurrent.event.mark Numeric point size intercurrent-event marks (default 2). add.quantile Logical; TRUE, adds quantile reference line (via ggsurvfit::add_quantile()). Default FALSE. level.quantile Numeric quantile level shown (default 0.5 median). rows.columns.panel Optional integer vector c(nrow, ncol) controlling layout panel returned panel modes. NULL, automatic layout determined number subplots. style Character choosing base plot style: \"CLASSIC\", \"BOLD\", \"FRAMED\", \"GRID\", \"GRAY\" \"GGSURVFIT\" (default \"CLASSIC\"). Abbreviations \"C\", \"B\", \"F\", \"G\" also accepted. palette Optional character vector specifying color palette use across strata. linewidth Optional numeric specifying line width curve (default 0.8). linetype Optional logical using different line types curve (default FALSE). font.family Character specifying font family: \"sans\",  \"serif\", \"mono\" (default \"sans\"). font.size Integer specifying base font size (default 12). filename.ggsave Character; non-NULL, save plot file. width.ggsave Numeric width passed ggplot2::ggsave() (default 6). height.ggsave Numeric height passed ggplot2::ggsave() (default 6). dpi.ggsave Numeric DPI passed ggplot2::ggsave() (default 300).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifcurve.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","title":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","text":"Core estimation routine computes survfit-compatible object formula + data interface (Event() survival::Surv() left-hand side, stratification variable right-hand side necessary). Use want numbers (KM / CIF + SE + CI) plot (example ggsurvfit cifplot). Outcome type estimator outcome.type = \"SURVIVAL\" → Kaplan–Meier estimator outcome.type = \"COMPETING-RISK\" → Aalen–Johansen estimator Confidence intervals conf.int sets two-sided level (default 0.95) conf.type chooses transformation (\"arcsin\", \"plain\", \"log\", \"log-log\", \"logit\", \"none\") error chooses estimator standard error (\"greenwood\" \"tsiatis\" survival curves \"delta\" \"aalen\" CIFs)","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifcurve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","text":"","code":"cifcurve(   formula,   data,   weights = NULL,   subset.condition = NULL,   na.action = na.omit,   outcome.type = c(\"SURVIVAL\", \"COMPETING-RISK\"),   code.event1 = 1,   code.event2 = 2,   code.censoring = 0,   error = NULL,   conf.type = \"arcsine-square root\",   conf.int = 0.95,   return_if = FALSE,   report.survfit.std.err = FALSE,   engine = \"calculateAJ_Rcpp\",   prob.bound = 1e-07 )"},{"path":"https://gestimation.github.io/cifmodeling/reference/cifcurve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","text":"formula model formula specifying time--event outcome left-hand side (typically Event(time, status) survival::Surv(time, status)) , optionally, stratification variable right-hand side. Unlike cifplot, function accept fitted survfit object. data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional expression (character string) defining subset data analyze (default NULL). na.action function specifying action take missing values (default na.omit). outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., \"c(\"S\", \"C\")\" trigger automatic detection based event coding. code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). error Character specifying method variance standard error used internally. conf.type Character specifying method transformation confidence intervals used internally. conf.int Numeric two-sided confidence level (default 0.95). return_if Logical. TRUE engine = \"calculateAJ_Rcpp\", influence function also computed returned (default FALSE). report.survfit.std.err Logical. TRUE, report SE log-survival scale (survfit's convention). Otherwise SE probability scale. engine Character. One \"auto\", \"calculateKM\", \"calculateAJ_Rcpp\" (default \"calculateAJ_Rcpp\"). prob.bound Numeric lower bound used internally truncate probabilities away 0 1 (default 1e-7).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifcurve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","text":"survfit object. outcome.type=\"SURVIVAL\", $surv survival function. outcome.type=\"COMPETING-RISK\", $surv equals 1 - CIF code.event1. Standard error CIs provided per conf.type. Note methods survfit (e.g., residuals.survfit) may supported.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifcurve.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","text":"outcome.type = \"SURVIVAL\", thin wrapper around KM chosen variance / CI transformation. outcome.type = \"COMPETING-RISK\", computes Aalen–Johansen cumulative incidence code.event1. returned $surv 1 - CIF, .e. format ggsurvfit expects. Use cifplot want go straight figure; use cifcurve() want numbers.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifcurve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the Kaplan–Meier estimator and the Aalen–Johansen estimator — cifcurve","text":"","code":"data(diabetes.complications) out_cifcurve <- cifcurve(Event(t,epsilon) ~ fruitq,                          data = diabetes.complications,                          outcome.type='COMPETING-RISK') cifplot(out_cifcurve,         outcome.type = \"COMPETING-RISK\",         type.y = \"risk\",         add.risktable = FALSE,         label.y = \"CIF of diabetic retinopathy\",         label.x = \"Years from registration\")"},{"path":"https://gestimation.github.io/cifmodeling/reference/cifmodeling-package.html","id":null,"dir":"Reference","previous_headings":"","what":"cifmodeling: Visualize Cumulative Incidence Functions and Fit Coherent Regression Models Based on Polytomous Log Odds Products — cifmodeling-package","title":"cifmodeling: Visualize Cumulative Incidence Functions and Fit Coherent Regression Models Based on Polytomous Log Odds Products — cifmodeling-package","text":"compact unified toolkit survival competing risks analysis R. cifcurve() estimates visualizes Kaplan-Meier survival Aalen-Johansen cumulative incidence curves familiar survival::survfit object. polyreg() performs regression modeling cumulative incidence functions based polytomous log odds products estimate risk ratios, odds ratios, subdistribution hazard ratios categorical exposure. functions adopt formula + data syntax, return tidy, publication-ready outputs, integrate seamlessly ggsurvfit modelsummary visualization. Key numerical routines implemented C++ via 'Rcpp'.","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifmodeling-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"cifmodeling: Visualize Cumulative Incidence Functions and Fit Coherent Regression Models Based on Polytomous Log Odds Products — cifmodeling-package","text":"Maintainer: Shiro Tanaka gestimation@gmail.com [copyright holder]","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":null,"dir":"Reference","previous_headings":"","what":"Arrange multiple survival / CIF plots in a panel display — cifpanel","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"cifpanel() panel-building counterpart cifplot(). takes one model formulas (, alternatively, one formula several event-coding specifications) returns multi-panel figure, typically patchwork object. display options (axis labels, marks, style, ggsave options) shared cifplot(), per-panel legends risk tables suppressed avoid duplicated display. Panel layout specified length-2 vector rows.columns.panel. function can also automatically determine panel count following order: (1) plots supplied, length defines number plots, (2) else formulas supplied, length defines number plots, (3) else code.events supplied, length defines number plots together formula, (4) otherwise rows.columns.panel=c(1,1). formula formulas — one formula list formulas; entry creates panel. data, outcome.type, code.events, type.y — recycled across panels unless list supplied per-panel control. rows.columns.panel — selects grid layout c(rows, cols). inset.panel — selects inset layout. title.panel, subtitle.panel, caption.panel, title.plot — overall titles captions. tag.panel — panel tag style (e.g., \"\", \"\", \"1\"). label.x, label.y, limits.x, limits.y, breaks.x, breaks.y — shared axis control unless list supplied per-panel control.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"","code":"cifpanel(   plots = NULL,   formula = NULL,   formulas = NULL,   data = NULL,   weights = NULL,   subset.condition = NULL,   na.action = na.omit,   outcome.type = NULL,   code.events = NULL,   error = NULL,   conf.type = NULL,   conf.int = NULL,   type.y = NULL,   label.x = NULL,   label.y = NULL,   label.strata = NULL,   order.strata = NULL,   level.strata = NULL,   limits.x = NULL,   limits.y = NULL,   breaks.x = NULL,   breaks.y = NULL,   add.conf = NULL,   add.risktable = NULL,   add.estimate.table = NULL,   symbol.risk.table = NULL,   font.size.risk.table = NULL,   add.censor.mark = NULL,   shape.censor.mark = NULL,   size.censor.mark = NULL,   add.competing.risk.mark = NULL,   competing.risk.time = NULL,   shape.competing.risk.mark = NULL,   size.competing.risk.mark = NULL,   add.intercurrent.event.mark = NULL,   intercurrent.event.time = NULL,   shape.intercurrent.event.mark = NULL,   size.intercurrent.event.mark = NULL,   add.quantile = NULL,   level.quantile = NULL,   rows.columns.panel = c(1, 1),   inset.panel = FALSE,   title.panel = NULL,   subtitle.panel = NULL,   caption.panel = NULL,   tag.panel = NULL,   title.plot = NULL,   style = \"CLASSIC\",   palette = NULL,   linewidth = 0.8,   linetype = FALSE,   font.family = \"sans\",   font.size = 8,   legend.position = \"top\",   legend.collect = TRUE,   inset.left = 0.6,   inset.bottom = 0.05,   inset.right = 0.98,   inset.top = 0.45,   inset.align.to = c(\"panel\", \"plot\", \"full\"),   inset.legend.position = NULL,   print.panel = TRUE,   filename.ggsave = NULL,   width.ggsave = NULL,   height.ggsave = NULL,   dpi.ggsave = 300,   survfit.info = NULL,   axis.info = NULL,   visual.info = NULL,   panel.info = NULL,   style.info = NULL,   inset.info = NULL,   print.info = NULL,   ggsave.info = NULL,   engine = \"cifplot\",   ... )"},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"plots Optional list already-built ggplot objects arranged. supplied, used -(fitting done). formula model formula specifying time--event outcome left-hand side (typically Event(time, status) Surv(time, status)) , optionally, stratification variable right-hand side. Unlike cifplot, function accept fitted survfit object. formulas Optional list formulas. given, formula defines one panel. common way create “one variable per plot” panels. data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional expression (character string) defining subset data analyze (default NULL). na.action function specifying action take missing values (default na.omit). outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., \"c(\"S\", \"C\")\" trigger automatic detection based event coding. code.events Optional numeric length-3 vector c(event1, event2, censoring). supplied, overrides code.event1, code.event2, code.censoring (primarily used cifpanel() called panel.per.event = TRUE). error Character specifying method variance standard error used internally. conf.type Character specifying method transformation confidence intervals used internally. conf.int Numeric two-sided confidence level (default 0.95). type.y Optional vector/list per panel: \"surv\" \"risk\" (display 1 - survival .e. CIF). label.x Character x-axis label (default \"Time\"). label.y Character y-axis label (default chosen automatically outcome.type type.y, e.g. “Survival” “Cumulative incidence”). limits.x Numeric length-2 vector specifying x-axis limits. NULL, set fitted object (typically c(0, max(time))). limits.y Numeric length-2 vector specifying y-axis limits. NULL, set c(0, 1) probability-type outcomes. breaks.x Numeric vector x-axis breaks (default NULL). breaks.y Numeric vector y-axis breaks (default NULL). add.conf Logical; TRUE, adds confidence-interval ribbon (via ggsurvfit::add_confidence_interval()). Default TRUE. add.censor.mark Logical; TRUE, draws censoring marks curve (via ggsurvfit::add_censor_mark()). Default TRUE. shape.censor.mark Integer point shape used censoring marks (default 3). size.censor.mark Numeric point size used censoring marks (default 2). add.competing.risk.mark Logical; TRUE, draws time marks competing event (event 2). times supplied via competing.risk.time, function tries extract automatically data. Default FALSE. competing.risk.time named list numeric vectors. name must correspond strata label, numeric vector gives times competing event occurred stratum. Typically left list() filled internally. shape.competing.risk.mark Integer point shape competing-risk marks (default 16). size.competing.risk.mark Numeric point size competing-risk marks (default 2). add.intercurrent.event.mark Logical; TRUE, overlays user-specified intercurrent-event times per stratum. Default FALSE. intercurrent.event.time named list numeric vectors intercurrent events (names must match strata labels). shape.intercurrent.event.mark Integer point shape intercurrent-event marks (default 1). size.intercurrent.event.mark Numeric point size intercurrent-event marks (default 2). add.quantile Logical; TRUE, adds quantile reference line (via ggsurvfit::add_quantile()). Default FALSE. level.quantile Numeric quantile level shown (default 0.5 median). rows.columns.panel Optional integer vector c(nrow, ncol) controlling layout panel returned panel modes. NULL, automatic layout determined number subplots. inset.panel Logical. FALSE (default), panels arranged regular grid using patchwork::wrap_plots() plot_layout(). TRUE, function switches “inset mode”: first plot becomes main plot second plot (second) drawn top inset. Additional plots beyond second ignored inset mode. Use grid mode display two panels (inset.panel = FALSE). title.panel, subtitle.panel, caption.panel Character annotations applied whole panel layout (individual plots). passed patchwork::plot_annotation() useful creating figure-like outputs (title + subfigures + caption). tag.panel Passed patchwork::plot_annotation() auto-label individual panels (e.g. \"\", \"B\", \"C\"). Typical values \"\", \"1\", \"\". See ?patchwork::plot_annotation. title.plot Character vector titles panel order drawn. Length-1 values recycled panels. inset mode, first element refers main plot second (present) inset. style Character choosing base plot style: \"CLASSIC\", \"BOLD\", \"FRAMED\", \"GRID\", \"GRAY\" \"GGSURVFIT\" (default \"CLASSIC\"). Abbreviations \"C\", \"B\", \"F\", \"G\" also accepted. palette Optional character vector specifying color palette use across strata. linewidth Optional numeric specifying line width curve (default 0.8). linetype Optional logical using different line types curve (default FALSE). font.family Character specifying font family: \"sans\",  \"serif\", \"mono\" (default \"sans\"). font.size Integer specifying base font size (default 12). legend.collect Logical; TRUE, try collect single legend panels (passed patchwork). Default TRUE. inset.left, inset.bottom, inset.right, inset.top Numeric values range [0, 1] define inset box fractions reference area. inset.left / inset.right control horizontal position, inset.bottom / inset.top control vertical position. Values interpreted “left/bottom” reference. example, inset.left = 0.4, inset.right = 1.0 draws inset right 60% reference area. inset.align.Character string specifying coordinate system inset box. One : \"panel\" (default): box placed relative panel area (.e. plotting region, excluding outer titles/margins); \"plot\": box placed relative entire plot area, including axes titles main plot; \"full\": box placed relative full patchwork canvas. argument passed patchwork::inset_element(). inset.legend.position Optional legend position inset plot . NULL (default), inset plot keeps whatever legend position defined (often means legend also inset). Set, example, \"none\" hide legend inside inset, still showing main plot's legend. print.panel Logical. TRUE, composed patchwork object printed immediately (interactive use). FALSE, object returned invisibly can assigned, modified, saved. Kept backward compatibility. filename.ggsave Character; non-NULL, save plot file. width.ggsave Numeric width passed ggplot2::ggsave() (default 6). height.ggsave Numeric height passed ggplot2::ggsave() (default 6). dpi.ggsave Numeric DPI passed ggplot2::ggsave() (default 300). survfit.info, axis.info, visual.info, panel.info, style.info, print.info, ggsave.info, inset.info Internal lists used programmatic control. intended direct user input. ... Additional arguments forwarded internal cifplot_single() calls build panel. Use pass low-level options competing.risk.time, intercurrent.event.time, styling overrides.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"invisible list: list(plots = <list ggplot objects>, out_patchwork = <patchwork object>). Print returned object display panel, access individual panels via out_patchwork$plots[[1]], out_patchwork$plots[[2]], ...","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"overview","dir":"Reference","previous_headings":"","what":"Overview","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"cifpanel() composes multiple survival/CIF plots single figure. panel, estimates curves via cifcurve() renders cifplot(). can supply single formula reused across panels list formulas (one per panel). provided, formulas wins.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"outcome-type-amp-event-coding","dir":"Reference","previous_headings":"","what":"Outcome type & event coding","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"Use outcome.type set per-panel estimator (\"SURVIVAL\"=KM, \"COMPETING-RISK\"=AJ). Alternatively, pass code.events per panel infer type: length 2 = SURVIVAL: c(event1, censor) length 3 = COMPETING-RISK: c(event1, event2, censor) outcome.type NULL, function infers panel code.events[[]] length. given, outcome.type takes precedence.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"panel-wise-vs-shared-arguments","dir":"Reference","previous_headings":"","what":"Panel-wise vs shared arguments","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"Many arguments accept scalar (recycled panels) list/vector (one entry per panel). Precedence: panel-wise explicit values > shared scalar > internal defaults. Length-1 inputs recycled.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"grid-vs-inset-composition","dir":"Reference","previous_headings":"","what":"Grid vs inset composition","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"Grid mode (inset.panel = FALSE, default): plots arranged patchwork::wrap_plots() plot_layout(). legend.collect = TRUE, legends collected across panels possible. Inset mode (inset.panel = TRUE): second plot overlaid first using patchwork::inset_element(). first two plots used; extra plots ignored. Control inset box inset.left, inset.bottom, inset.right, inset.top, reference frame via inset.align.(\"panel\", \"plot\", \"full\").","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"advanced-panel-controls-forwarded-to-cifplot-","dir":"Reference","previous_headings":"","what":"Advanced panel controls (forwarded to cifplot())","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"following arguments allow per-panel control supplying vectors/lists, shared control supplying scalars. forwarded cifplot().","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"plot-layers-toggles-","dir":"Reference","previous_headings":"","what":"Plot layers (toggles)","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"(Time marks inputs competing.risk.time / intercurrent.event.time can given via ... needed; names must match strata labels.)","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"legend-amp-annotations","dir":"Reference","previous_headings":"","what":"Legend & annotations","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"legend.position: \"top\", \"right\", \"bottom\", \"left\", \"none\" (applies panels). Grid mode: legend.collect = TRUE attempts shared legend. Panel annotations: title.panel, subtitle.panel, caption.panel. Tagging: tag.panel passed patchwork::plot_annotation(). inset mode, title.plot = c(title_base, title_inset) labels two plots.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"export-optional-","dir":"Reference","previous_headings":"","what":"Export (optional)","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"filename.ggsave non-NULL, composed panel saved ggsave() using width.ggsave, height.ggsave, dpi.ggsave. Otherwise, function returns objects without saving.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"value-1","dir":"Reference","previous_headings":"","what":"Value","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"Returns invisibly: list(plots = <list ggplot objects>, out_patchwork = <patchwork object>). Print latter display composed panel. print.panel = TRUE, printing done automatically.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"notes-amp-tips","dir":"Reference","previous_headings":"","what":"Notes & tips","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"Mixed panel types supported (e.g., AJ panel 1; KM panel 2). formulas shorter grid capacity, empty slots ignored. supplying vectors/lists per panel, lengths must match number panels; length-1 inputs recycled; otherwise error thrown. CIF displays, set type.y = \"risk\" relevant panels. ADaM-style coding can expressed via code.events (e.g., c(0,1) KM: event1=0, censor=1). Additional graphical options (e.g., theme) can added post-hoc element plots composed out_patchwork.","code":""},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifpanel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Arrange multiple survival / CIF plots in a panel display — cifpanel","text":"","code":"data(diabetes.complications) cifpanel(   title.panel = \"A comparison of cumulative incidence of competing events\",   rows.columns.panel = c(1,2),   formula = Event(t, epsilon) ~ fruitq,   data = diabetes.complications,   outcome.type = \"COMPETING-RISK\",   code.events = list(c(1,2,0), c(2,1,0)),   label.y = c(\"Diabetic retinopathy\", \"Macrovascular complications\"),   label.x = \"Years from registration\",   subtitle.panel = \"Stratified by fruit intake\",   caption.panel  = \"Data: diabetes.complications\",   title.plot = c(\"Diabetic retinopathy\", \"Macrovascular complications\"),   legend.position = \"bottom\",   legend.collect=TRUE )   cifpanel(   title.plot = c(\"Associations between fruit intake and macrovascular complications\", \"Details\"),   inset.panel = TRUE,   formula = Event(t, epsilon) ~ fruitq,   data = diabetes.complications,   outcome.type = \"COMPETING-RISK\",   code.events = list(c(2,1,0), c(2,1,0)),   label.y = c(\"CIF of macrovascular complications\", \"\"),   label.x = c(\"Years from registration\", \"\"),   limits.y     = list(c(0,1), c(0,0.15)),   inset.left   = 0.40, inset.bottom = 0.45,   inset.right  = 1.00, inset.top    = 0.95,   inset.align.to = \"plot\",   inset.legend.position = \"none\",   legend.position = \"bottom\",   add.conf = FALSE ) #> Warning: Some point estimates fall outside `limits.y` = [0, 0.15].   output1 <- cifplot(Event(t,epsilon) ~ fruitq,                    data = diabetes.complications,                    outcome.type=\"COMPETING-RISK\",                    code.event1=2,                    code.event2=1,                    add.conf = FALSE,                    add.risktable = FALSE,                    label.y='CIF of macrovascular complications',                    label.x='Years from registration') output2 <- cifplot(Event(t,epsilon) ~ fruitq,                    data = diabetes.complications,                    outcome.type=\"COMPETING-RISK\",                    code.event1=2,                    code.event2=1,                    add.conf = FALSE,                    add.risktable = FALSE,                    label.y='CIF of macrovascular complications',                    label.x='Years from registration',                    limits.y=c(0,0.15)) #> Warning: Some point estimates fall outside `limits.y` = [0, 0.15]. output3 <- list(a=output1, b=output2) cifpanel(plots = output3,          inset.panel = TRUE,          inset.left = 0.40, inset.bottom = 0.45,          inset.right = 1.00, inset.top = 0.95,          inset.align.to = \"plot\",          inset.legend.position = \"none\",          legend.position = \"bottom\")"},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"function produces Kaplan–Meier survival Aalen–Johansen cumulative incidence curve unified formula + data interface (Event() Surv() left-hand side, stratification variable right-hand side necessary). may also pass survfit-compatible object directly. Options risk estimate+CI tables, censoring/competing-risk/intercurrent-event marks, simple panel display internally using cifpanel() available. function returns regular ggplot object (compatible + %+%). Outcome type estimator outcome.type = \"SURVIVAL\" → Kaplan–Meier estimator outcome.type = \"COMPETING-RISK\" → Aalen–Johansen estimator Data visualization add.conf adds confidence intervals ggplot2-based plot add.competing.risk.mark add.intercurrent.event.mark add symbols describe competing risks intercurrent events addition conventional censoring marks add.censor.mark add.risktable adds numbers risk add.estimate.table adds estimates 95% confidence interval add.quantile adds line represents median selected quantile level Plot customization type.y chooses y-axis. (\"surv\" survival curves \"risk\" CIFs) limits.x, limits.y, breaks.x, breaks.y numeric vectors axis control style specifies appearance plot (\"CLASSIC\", \"BOLD\", \"FRAMED\", \"GRID\", \"GRAY\" \"GGSURVFIT\") Panel display panel.per.variable produces multiple survival/CIF curves per stratification variable specified formula panel.per.event produces CIF curves event type panel.censoring produces KM-type curves (event, censor) (censor, event) censoring patterns can inspected panel.mode uses automatic panel mode","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"","code":"cifplot(   formula_or_fit,   data = NULL,   weights = NULL,   subset.condition = NULL,   na.action = na.omit,   outcome.type = c(\"COMPETING-RISK\", \"SURVIVAL\"),   code.event1 = 1,   code.event2 = 2,   code.censoring = 0,   code.events = NULL,   error = NULL,   conf.type = \"arcsine-square root\",   conf.int = 0.95,   type.y = NULL,   label.x = \"Time\",   label.y = NULL,   label.strata = NULL,   level.strata = NULL,   order.strata = NULL,   limits.x = NULL,   limits.y = NULL,   breaks.x = NULL,   breaks.y = NULL,   use.coord.cartesian = FALSE,   add.conf = TRUE,   add.risktable = TRUE,   add.estimate.table = FALSE,   symbol.risk.table = \"square\",   font.size.risk.table = 3,   add.censor.mark = TRUE,   shape.censor.mark = 3,   size.censor.mark = 2,   add.competing.risk.mark = FALSE,   competing.risk.time = list(),   shape.competing.risk.mark = 16,   size.competing.risk.mark = 2,   add.intercurrent.event.mark = FALSE,   intercurrent.event.time = list(),   shape.intercurrent.event.mark = 1,   size.intercurrent.event.mark = 2,   add.quantile = FALSE,   level.quantile = 0.5,   panel.per.event = FALSE,   panel.censoring = FALSE,   panel.per.variable = FALSE,   panel.mode = \"auto\",   rows.columns.panel = NULL,   style = \"CLASSIC\",   palette = NULL,   linewidth = 0.8,   linetype = FALSE,   font.family = \"sans\",   font.size = 12,   legend.position = \"top\",   filename.ggsave = NULL,   width.ggsave = 6,   height.ggsave = 6,   dpi.ggsave = 300,   survfit.info = NULL,   axis.info = NULL,   visual.info = NULL,   panel.info = NULL,   style.info = NULL,   inset.info = NULL,   print.info = NULL,   ggsave.info = NULL,   ... )"},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"formula_or_fit model formula survfit object. Note: formula supplied, left-hand side must Event(time, status) Surv(time, status). right-hand side specifies stratification variable. data data frame containing variables formula. weights Optional name weight variable data. Weights must nonnegative. subset.condition Optional expression (character string) defining subset data analyze (default NULL). na.action function specifying action take missing values (default na.omit). outcome.type Character string specifying type time--event outcome. One \"SURVIVAL\" (Kaplan–Meier type) \"COMPETING-RISK\" (Aalen–Johansen type). NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., \"c(\"S\", \"C\")\" trigger automatic detection based event coding. code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). code.events Optional numeric length-3 vector c(event1, event2, censoring). supplied, overrides code.event1, code.event2, code.censoring (primarily used cifpanel() called panel.per.event = TRUE). error Character specifying method variance standard error used internally. conf.type Character specifying method transformation confidence intervals used internally. conf.int Numeric two-sided confidence level (default 0.95). type.y Optional vector/list per panel: \"surv\" \"risk\" (display 1 - survival .e. CIF). label.x Character x-axis label (default \"Time\"). label.y Character y-axis label (default chosen automatically outcome.type type.y, e.g. “Survival” “Cumulative incidence”). label.strata Character vector named character vector specifying labels strata. Names (present) must match (re-ordered) underlying strata levels. Note: panel modes active (panel.per.variable = TRUE, panel.per.event = TRUE, panel.censoring = TRUE, panel.mode = \"auto\" actually dispatches panel), strata labels suppressed avoid duplicated legends across sub-plots. level.strata Optional character vector giving full set expected strata levels. provided, order.strata label.strata validated application. order.strata Optional character vector specifying display order strata legend / risk table. Specify levels strata. Levels listed dropped. limits.x Numeric length-2 vector specifying x-axis limits. NULL, set fitted object (typically c(0, max(time))). limits.y Numeric length-2 vector specifying y-axis limits. NULL, set c(0, 1) probability-type outcomes. breaks.x Numeric vector x-axis breaks (default NULL). breaks.y Numeric vector y-axis breaks (default NULL). use.coord.cartesian Logical; TRUE, uses coord_cartesian() zooming instead changing scale limits (default FALSE). add.conf Logical; TRUE, adds confidence-interval ribbon (via ggsurvfit::add_confidence_interval()). Default TRUE. add.risktable Logical; TRUE, adds numbers--risk table plot. Default TRUE. Note: panel mode active, tables suppressed. add.estimate.table Logical; TRUE, adds table estimates CIs. Default FALSE. Note: panel mode active, tables suppressed. symbol.risk.table Character specifying symbol used risk table denote strata: \"square\", \"circle\", \"triangle\" (default \"square\"). font.size.risk.table Numeric font size texts risk / estimate tables (default 3). add.censor.mark Logical; TRUE, draws censoring marks curve (via ggsurvfit::add_censor_mark()). Default TRUE. shape.censor.mark Integer point shape used censoring marks (default 3). size.censor.mark Numeric point size used censoring marks (default 2). add.competing.risk.mark Logical; TRUE, draws time marks competing event (event 2). times supplied via competing.risk.time, function tries extract automatically data. Default FALSE. competing.risk.time named list numeric vectors. name must correspond strata label, numeric vector gives times competing event occurred stratum. Typically left list() filled internally. shape.competing.risk.mark Integer point shape competing-risk marks (default 16). size.competing.risk.mark Numeric point size competing-risk marks (default 2). add.intercurrent.event.mark Logical; TRUE, overlays user-specified intercurrent-event times per stratum. Default FALSE. intercurrent.event.time named list numeric vectors intercurrent events (names must match strata labels). shape.intercurrent.event.mark Integer point shape intercurrent-event marks (default 1). size.intercurrent.event.mark Numeric point size intercurrent-event marks (default 2). add.quantile Logical; TRUE, adds quantile reference line (via ggsurvfit::add_quantile()). Default FALSE. level.quantile Numeric quantile level shown (default 0.5 median). panel.per.event Logical. Explicit panel mode. TRUE outcome.type == \"COMPETING-RISK\", cifplot() internally calls cifpanel() display two event-specific CIFs side--side (event 1 event 2) using reversed code.events. Ignored non-competing-risk outcomes. panel.censoring Logical. Explicit panel mode. TRUE outcome.type == \"SURVIVAL\", cifplot() internally calls cifpanel() display KM-type curves (event, censor) (censor, event) censoring patterns can inspected. panel.per.variable Logical. Explicit panel mode. TRUE right-hand side formula multiple covariates (e.g. ~ + b + c), function produces panel variable RHS used stratification factor. panel.mode Character specifying Automatic panel mode. \"auto\" none panel.per.variable, panel.per.event, panel.censoring set TRUE, function chooses suitable panel mode automatically: () formula RHS 2+ variables, behaves like panel.per.variable = TRUE; (ii) otherwise, outcome.type == \"COMPETING-RISK\", behaves like panel.per.event = TRUE; (iii) otherwise, outcome.type == \"SURVIVAL\", behaves like panel.censoring = TRUE. panel mode explicitly specified, panel.mode ignored. rows.columns.panel Optional integer vector c(nrow, ncol) controlling layout panel returned panel modes. NULL, automatic layout determined number subplots. style Character choosing base plot style: \"CLASSIC\", \"BOLD\", \"FRAMED\", \"GRID\", \"GRAY\" \"GGSURVFIT\" (default \"CLASSIC\"). Abbreviations \"C\", \"B\", \"F\", \"G\" also accepted. palette Optional character vector specifying color palette use across strata. linewidth Optional numeric specifying line width curve (default 0.8). linetype Optional logical using different line types curve (default FALSE). font.family Character specifying font family: \"sans\",  \"serif\", \"mono\" (default \"sans\"). font.size Integer specifying base font size (default 12). legend.position Character specifying legend position: \"top\", \"right\", \"bottom\", \"left\", \"none\" (default \"top\"). filename.ggsave Character; non-NULL, save plot file. width.ggsave Numeric width passed ggplot2::ggsave() (default 6). height.ggsave Numeric height passed ggplot2::ggsave() (default 6). dpi.ggsave Numeric DPI passed ggplot2::ggsave() (default 300). survfit.info, axis.info, visual.info, panel.info, style.info, print.info, ggsave.info Internal lists used programmatic control. intended direct user input.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"ggplot object. panel.per.variable = TRUE, patchwork object returned attribute attr(x, \"plots\") containing individual ggplot panels.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"function calls internal helper call_ggsurvfit() adds confidence intervals, risk table, censoring marks, optional competing-risk intercurrent-event marks. panel.per.event = TRUE, two panels created code.events = list(c(e1, e2, c), c(e2, e1, c)), code.events = c(e1, e2, c) input coding event1, event2, censoring. Common legend collected default (legend.collect = TRUE). Numeric stratification variables normalized automatically. Columns fewer nine distinct numeric values coerced factors; columns nine distinct numeric values split median “median” “median” strata.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"advanced-control-not-required-for-typical-use","dir":"Reference","previous_headings":"","what":"Advanced control not required for typical use","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"arguments fine-tune internal estimation figure appearance. users need change defaults.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"export","dir":"Reference","previous_headings":"","what":"Export","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"Notes. CIF displays, set type.y = \"risk\". survival scale, use type.y = NULL = \"surv\". Event coding can controlled via code.event1, code.event2, code.censoring. ADaM-style data, use code.event1 = 0, code.censoring = 1. Per-stratum time lists names identical plotted strata labels.","code":""},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/cifplot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a survival or cumulative incidence curve with marks that represent censoring, competing risks and intermediate events — cifplot","text":"","code":"data(diabetes.complications) cifplot(Event(t,epsilon) ~ fruitq,         data = diabetes.complications,         outcome.type=\"COMPETING-RISK\",         add.risktable = FALSE,         label.y='CIF of diabetic retinopathy',         label.x='Years from registration')"},{"path":"https://gestimation.github.io/cifmodeling/reference/diabetes.complications.html","id":null,"dir":"Reference","previous_headings":"","what":"Data of patients with type 2 diabetes — diabetes.complications","title":"Data of patients with type 2 diabetes — diabetes.complications","text":"Anonymized data cohort study patients type 2 diabetes followed ocular macro-vascular complications.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/diabetes.complications.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data of patients with type 2 diabetes — diabetes.complications","text":"","code":"data(diabetes.complications)"},{"path":"https://gestimation.github.io/cifmodeling/reference/diabetes.complications.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Data of patients with type 2 diabetes — diabetes.complications","text":"data frame 978 observations 19 variables: t Follow-time years. epsilon Event type indicator (0 = censored, 1 = diabetic retinopathy, 2 = macro-vascular complication). fruit Fruit intake (g/day). fruitq Quartile fruit intake. fruitq1 Binary indicator low fruit intake. strata Stratum used inverse probability censoring weights. age Age baseline (years). sex Sex coded 0 = woman, 1 = man. bmi Body mass index baseline. hba1c Hemoglobin A1c (%). diabetes_duration Duration diabetes (years). drug_oha Indicator oral hypoglycemic agent use. drug_insulin Indicator insulin use. sbp Systolic blood pressure (mmHg). ldl Low-density lipoprotein cholesterol (mg/dL). hdl High-density lipoprotein cholesterol (mg/dL). tg Triglycerides (mg/dL). current_smoker Indicator current smoking status. alcohol_drinker Indicator current alcohol drinking. ltpa Leisure-time physical activity (METs).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/diabetes.complications.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data of patients with type 2 diabetes — diabetes.complications","text":"Anonymized data supplied package documentation demonstration purposes.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/diabetes.complications.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data of patients with type 2 diabetes — diabetes.complications","text":"variables include follow-time, cause-specific event indicators, exposure indicators fruit intake, censoring strata, set covariates used package vignettes.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/diabetes.complications.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data of patients with type 2 diabetes — diabetes.complications","text":"","code":"data(diabetes.complications) str(diabetes.complications) #> 'data.frame':\t978 obs. of  20 variables: #>  $ t                : num  8.62 8.51 7.79 8.91 8.94 ... #>  $ epsilon          : int  0 0 0 0 0 1 0 1 0 1 ... #>  $ strata           : int  1 4 3 1 2 3 1 3 3 1 ... #>  $ fruit            : num  75 26.8 64.3 5.35 211.05 ... #>  $ fruitq1          : int  0 1 0 1 0 1 0 0 0 0 ... #>  $ age              : int  45 68 63 49 55 61 56 64 67 58 ... #>  $ sex              : int  0 0 0 0 0 0 0 1 1 1 ... #>  $ bmi              : num  21.5 18.3 23.9 22.9 18.7 23.4 20.1 28.6 25.6 22.8 ... #>  $ hba1c            : num  6.97 8.02 6.89 7.24 8.28 ... #>  $ diabetes_duration: num  4.2 2.9 14.3 4.2 16.3 8.9 13 6.1 20.3 13.3 ... #>  $ drug_oha         : int  0 0 1 1 1 1 0 1 0 0 ... #>  $ drug_insulin     : int  0 1 0 0 0 0 1 0 0 1 ... #>  $ sbp              : int  124 128 164 126 136 146 118 136 136 142 ... #>  $ ldl              : num  187.3 87.6 74.6 95.7 50.5 ... #>  $ hdl              : num  58.1 57.2 35 34.7 55.7 36.7 57.7 52.2 60.5 55.4 ... #>  $ tg               : num  123 71 252 83 139 181 71 57 91 115 ... #>  $ current_smoker   : int  0 1 1 1 1 0 1 0 0 0 ... #>  $ alcohol_drinker  : int  0 0 1 0 0 0 0 0 0 0 ... #>  $ ltpa             : num  52.5 11.03 4.38 9.38 12.38 ... #>  $ fruitq           : Factor w/ 4 levels \"Q1\",\"Q2\",\"Q3\",..: 2 1 2 1 4 1 4 2 2 2 ..."},{"path":"https://gestimation.github.io/cifmodeling/reference/Event.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a survival or competing-risks response — Event","title":"Create a survival or competing-risks response — Event","text":"lightweight response constructor used cifcurve() polyreg() pass survival competing-risks data via model formula.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/Event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a survival or competing-risks response — Event","text":"","code":"Event(time, event, allowed = getOption(\"cifmodeling.allowed\", c(0, 1, 2)))"},{"path":"https://gestimation.github.io/cifmodeling/reference/Event.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a survival or competing-risks response — Event","text":"time Numeric vector follow-times (non-negative). event Integer (0=censor, 1,2,...) character/factor vector whose levels numeric codes \"0\",\"1\",\"2\",... competing events. allowed Numeric vector acceptable event codes.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/Event.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a survival or competing-risks response — Event","text":"object class \"Event\" (2-column matrix) columns time, event.","code":""},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/Event.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a survival or competing-risks response — Event","text":"","code":"## event: 0=censor, 1=primary, 2=competing data(diabetes.complications) output <- polyreg(   nuisance.model = Event(t, epsilon) ~ +1,   exposure = \"fruitq1\",   data = diabetes.complications,   effect.measure1 = \"RR\",   effect.measure2 = \"RR\",   time.point = 8,   outcome.type = \"COMPETING-RISK\" )"},{"path":"https://gestimation.github.io/cifmodeling/reference/extract_time_to_event.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract per-stratum event times from a formula and data — extract_time_to_event","title":"Extract per-stratum event times from a formula and data — extract_time_to_event","text":"Creates list event times can passed downstream visualization analysis functions competing.risk.time intercurrent.event.time cifplot() cifpanel(). Event types specified event 1, event 2, censoring, user-specified codes.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/extract_time_to_event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract per-stratum event times from a formula and data — extract_time_to_event","text":"","code":"extract_time_to_event(   formula,   data,   subset.condition = NULL,   na.action = na.omit,   which_event = c(\"event2\", \"event1\", \"censor\", \"censoring\", \"user_specified\"),   code.event1 = 1,   code.event2 = 2,   code.censoring = 0,   user_specified_code = NULL,   readUniqueTime = TRUE,   dropEmpty = TRUE )"},{"path":"https://gestimation.github.io/cifmodeling/reference/extract_time_to_event.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract per-stratum event times from a formula and data — extract_time_to_event","text":"formula model formula specifying outcome (optionally) strata(). data data frame containing variables formula. subset.condition Optional expression (character string) defining subset data analyse. Defaults NULL. na.action Function handle missing values (default: na.omit stats). which_event One \"event1\", \"event2\", \"censor\", \"censoring\", \"user_specified\", indicating event type extract times . code.event1, code.event2, code.censoring Integer codes representing event censoring categories. Defaults 1, 2, 0, respectively. user_specified_code which_event = \"user_specified\", integer event code extract (e.g., 3 intercurrent event). readUniqueTime Logical TRUE, unique sorted time points returned stratum. dropEmpty Logical TRUE (default), strata events dropped returned list. Set FALSE retain empty strata numeric(0) vectors (useful diagnostics consistent list length).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/extract_time_to_event.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract per-stratum event times from a formula and data — extract_time_to_event","text":"named list numeric vectors, element corresponds stratum contains event times selected type.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/extract_time_to_event.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract per-stratum event times from a formula and data — extract_time_to_event","text":"function typically used internally plotting model functions, can also called directly inspect per-stratum event-time structure data frame.","code":""},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/extract_time_to_event.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract per-stratum event times from a formula and data — extract_time_to_event","text":"","code":"data(diabetes.complications) output <- extract_time_to_event(Event(t,epsilon) ~ fruitq,                                 data = diabetes.complications,                                 which_event = \"event2\") cifplot(Event(t,epsilon) ~ fruitq,         data = diabetes.complications,         outcome.type=\"COMPETING-RISK\",         add.conf=FALSE,         add.risktable=FALSE,         add.censor.mark=FALSE,         add.competing.risk.mark=TRUE,         competing.risk.time=output,         label.y='CIF of diabetic retinopathy',         label.x='Years from registration')"},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":null,"dir":"Reference","previous_headings":"","what":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"direct polytomous regression enables coherent modeling estimation variety multiplicative effects categorical exposure several outcome types, including competing risks, survival binomial outcomes.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"","code":"polyreg(   nuisance.model,   exposure,   strata = NULL,   data,   subset.condition = NULL,   na.action = na.omit,   code.event1 = 1,   code.event2 = 2,   code.censoring = 0,   code.exposure.ref = 0,   effect.measure1 = \"RR\",   effect.measure2 = \"RR\",   time.point = NULL,   outcome.type = \"COMPETING-RISK\",   conf.level = 0.95,   report.nuisance.parameter = FALSE,   report.optim.convergence = FALSE,   report.sandwich.conf = TRUE,   report.boot.conf = NULL,   boot.bca = FALSE,   boot.multiplier = \"rademacher\",   boot.replications = 200,   boot.seed = 46,   nleqslv.method = \"Newton\",   optim.parameter1 = 1e-06,   optim.parameter2 = 1e-06,   optim.parameter3 = 100,   optim.parameter4 = 50,   optim.parameter5 = 50,   optim.parameter6 = 50,   optim.parameter7 = 1e-10,   optim.parameter8 = 1e-06,   optim.parameter9 = 1e-06,   optim.parameter10 = 40,   optim.parameter11 = 0.025,   optim.parameter12 = 2,   optim.parameter13 = 0.5,   data.initial.values = NULL,   normalize.covariate = TRUE,   terminate.time.point = TRUE,   prob.bound = 1e-07 )"},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"nuisance.model formula describing outcome nuisance covariates, excluding exposure interest. left-hand side must Event(time, status) survival::Surv(time, status). exposure character string giving name categorical exposure variable data. strata Optional character string name stratification variable used adjust dependent censoring (default NULL). data data frame containing outcome, exposure nuisance covariates referenced nuisance.model. subset.condition Optional expression (character string) defining subset data analyze (default NULL). na.action function specifying action take missing values (default na.omit). code.event1 Integer code event interest (default 1). code.event2 Integer code competing event (default 2). code.censoring Integer code censoring (default 0). code.exposure.ref Integer code identifying reference exposure category (default 0). effect.measure1 Character string specifying effect measure primary event. Supported values \"RR\", \"\" \"SHR\". effect.measure2 Character string specifying effect measure competing event. Supported values \"RR\", \"\" \"SHR\". time.point Numeric time point exposure effect evaluated. Required survival competing risk analyses. outcome.type Character string selecting outcome type. Valid values \"COMPETING-RISK\", \"SURVIVAL\", \"BINOMIAL\", \"PROPORTIONAL-SURVIVAL\" \"PROPORTIONAL-COMPETING-RISK\". Defaults \"COMPETING-RISK\". NULL (default), function automatically infers outcome type data: event variable two unique levels, \"COMPETING-RISK\" assumed; otherwise, \"SURVIVAL\" used. can also use abbreviations \"S\" \"C\". Mixed ambiguous inputs (e.g., c(\"S\", \"C\")) trigger automatic detection based event coding data. conf.level Confidence level Wald-type intervals (default 0.95). report.nuisance.parameter Logical; TRUE, returned object includes estimates nuisance model parameters (default FALSE). report.optim.convergence Logical; TRUE, optimization convergence summaries returned (default FALSE). report.sandwich.conf Logical NULL. TRUE, confidence intervals based sandwich variance computed. FALSE, omitted (default TRUE). confidence interval default time-point models (\"outcome.type=COMPETING-RISK\", \"SURVIVAL\" \"BINOMIAL\") available otherwise. report.boot.conf Logical NULL. TRUE, bootstrap confidence intervals computed. FALSE, omitted. NULL, function chooses based outcome.type (default NULL). confidence interval default proportional models (outcome.type=\"PROPORTIONAL-COMPETING-RISK\" \"PROPORTIONAL-SURVIVAL\"). boot.bca Logical indicating bootstrap confidence interval method. Use TRUE bias-corrected accelerated intervals FALSE normal approximation (default FALSE). boot.multiplier Character \"rademacher\", \"mammen\", \"gaussian\". Defaults \"rademacher\". boot.replications Integer giving number bootstrap replications (default 200). boot.seed Numeric seed used resampling bootstrap. nleqslv.method Character string specifying solver used nleqslv(). Available choices \"Broyden\" \"Newton\". optim.parameter1 Numeric tolerance convergence outer loop (default 1e-6). optim.parameter2 Numeric tolerance convergence inner loop (default 1e-6). optim.parameter3 Numeric constraint absolute value parameters (default 100). optim.parameter4 Integer maximum number outer loop iterations (default 50). optim.parameter5 Integer maximum number nleqslv iterations per outer iteration (default 50). optim.parameter6 Integer maximum number iterations Levenberg-Marquardt routine (default 50). optim.parameter7 Numeric convergence tolerance Levenberg-Marquardt routine (default 1e-10). optim.parameter8 Numeric tolerance updating Hessian Levenberg-Marquardt routine (default 1e-6). optim.parameter9 Numeric starting value Levenberg-Marquardt damping parameter lambda (default 1e-6). optim.parameter10 Numeric upper bound lambda Levenberg-Marquardt routine (default 40). optim.parameter11 Numeric lower bound lambda Levenberg-Marquardt routine (default 0.025). optim.parameter12 Numeric multiplicative increment applied lambda Levenberg-Marquardt step successful (default 2). optim.parameter13 Numeric multiplicative decrement applied lambda Levenberg-Marquardt step unsuccessful (default 0.5). data.initial.values Optional data frame providing starting values optimization (default NULL). normalize.covariate Logical indicating whether covariates centered scaled prior optimization (default TRUE). terminate.time.point Logical indicating whether time points contribute estimation terminated min max follow-times exposure level (default TRUE). prob.bound Numeric lower bound used internally truncate probabilities away 0 1 (default 1e-5).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"list containing fitted exposure effects supporting results. main components include coefficient (estimated exposure covariate effects), cov (variance-covariance matrix), summary (tidy summary table compatible modelsummary) diagnostic.statistics (inverse probability weights, influence functions predicted potential outcomes).","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"overview","dir":"Reference","previous_headings":"","what":"Overview","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"polyreg() implements log odds product modeling CIFs user-specified time points, focusing multiplicative effects categorical exposure, constant effects time like Cox regression Fine-Gray models. estimates multiplicative effects risk ratios, odds ratios, subdistribution hazard ratios, ensuring probabilities across competing events sum one. achieved reparameterization using polytomous log odds products, fits -called effect-measure models nuisance models multiple competing events simultaneously. Additionally, polyreg() supports direct binomial regression survival outcomes Richardson model binomial outcomes, use log odds products. function follows familiar formula + data syntax Event() Surv() outputs tidy results, including point estimates, standard errors, confidence intervals, p-values. results can easily summarized summary() combined tools modelsummary broom reporting.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"key-arguments","dir":"Reference","previous_headings":"","what":"Key arguments","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"nuisance.model — formula describing outcome nuisance covariates, excluding exposure interest. exposure — specifies categorical exposure variable effect.measure1 effect.measure2 — specifies effect measures event1 event2 (\"RR\", \"\" \"SHR\"). outcome.type selects outcome type (\"COMPETING-RISK\", \"SURVIVAL\", \"BINOMIAL\", \"PROPORTIONAL-SURVIVAL\" \"PROPORTIONAL-COMPETING-RISK\"). time.point — specifies time point exposure effect evaluated. Required \"COMPETING-RISK\" \"SURVIVAL\" outcomes. strata — specifies stratification variable used IPCW adjustment dependent censoring.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"outcome-type-and-event-status-coding","dir":"Reference","previous_headings":"","what":"Outcome type and event status coding","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"outcome.type argument must set : Effects cumulative incidence probabilities specific time: \"COMPETING-RISK\" Effects risk specific time: \"SURVIVAL\" Common effects cumulative incidence probabilities time: \"PROPORTIONAL-COMPETING-RISK\" Common effects risk time: \"PROPORTIONAL-SURVIVAL\" Effects risk binomial outcome: \"BINOMIAL\"","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"effect-measures-for-categorical-exposure","dir":"Reference","previous_headings":"","what":"Effect measures for categorical exposure","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"Choose effect scale event 1 (optionally) event 2: RR: risk ratio time.point common time. : odds ratio time.point common time. SHR: subdistribution hazard ratio  common time.","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"optimization-amp-solver-controls-advanced-","dir":"Reference","previous_headings":"","what":"Optimization & solver controls (advanced)","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"polyreg() solves estimating equations optional inner routines.","code":""},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"returned-object-and-downstream-use","dir":"Reference","previous_headings":"","what":"Returned object and downstream use","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"function returns list object includes: coefficient — regression coefficients cov — variance-covariance matrix regression coefficients diagnostic.statistics — data frame containing inverse probability weights, influence functions, predicted potential outcomes summary — summary estimated exposure effects Use summary output msummary() display formatted results. regression coefficients variance-covariance matrix provided coefficient cov, respectively, first element corresponding intercept term, subsequent elements covariates nuisance.model, last element variable specified exposure=. Finally, diagnostic.statistics data frame containing inverse probability weights, influence functions, predicted values potential outcomes individual observations.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"reproducibility-and-conventions","dir":"Reference","previous_headings":"","what":"Reproducibility and conventions","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"convergence warnings appear, relax/tighten tolerances cap parameter bound (optim.parameter1 3) inspect report.optim.convergence = TRUE. necessary, try modifying optim.parameter, providing use-specified initial values, reducing number nuisance parameters (e.g. provide time.point contributing estimation using “PROPORTIONAL-SURVIVAL” “PROPORTIONAL-COMPETING-RISK”). Set boot.seed reproducible bootstrap results. Match CDISC ADaM conventions via code.event1 = 0, code.censoring = 1 (, applicable, code.event2 competing events).","code":""},{"path":[]},{"path":[]},{"path":"https://gestimation.github.io/cifmodeling/reference/polyreg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fits regression models of cumulative incidence functions based on polytomous log odds products and stratified IPCW estimator — polyreg","text":"","code":"data(diabetes.complications) output <- polyreg(   nuisance.model = Event(t, epsilon) ~ +1,   exposure = \"fruitq1\",   data = diabetes.complications,   effect.measure1 = \"RR\",   effect.measure2 = \"RR\",   time.point = 8,   outcome.type = \"COMPETING-RISK\" ) if (requireNamespace(\"modelsummary\", quietly = TRUE)) { modelsummary::msummary(output$summary, statistic = c(\"conf.int\", \"p.value\"), exponentiate = TRUE) } #>  #> +------------------+---------------------------------+----------------+ #> |                  | event1                          | event2         | #> +==================+=================================+================+ #> | fruitq1, 1 vs 0  | 1.350                           | 1.079          | #> +------------------+---------------------------------+----------------+ #> |                  | [1.114, 1.637]                  | [0.682, 1.707] | #> +------------------+---------------------------------+----------------+ #> |                  | (0.002)                         | (0.746)        | #> +------------------+---------------------------------+----------------+ #> | effect.measure   | RR at 8                         | RR at 8        | #> +------------------+---------------------------------+----------------+ #> | n.events         | 279 in N = 978                  | 79 in N = 978  | #> +------------------+---------------------------------+----------------+ #> | median.follow.up | 8                               | -              | #> +------------------+---------------------------------+----------------+ #> | range.follow.up  | [ 0.05 , 11 ]                   | -              | #> +------------------+---------------------------------+----------------+ #> | n.parameters     | 4                               | -              | #> +------------------+---------------------------------+----------------+ #> | converged.by     | Converged in objective function | -              | #> +------------------+---------------------------------+----------------+ #> | nleqslv.message  | Function criterion near zero    | -              | #> +------------------+---------------------------------+----------------+"},{"path":"https://gestimation.github.io/cifmodeling/reference/prostate.html","id":null,"dir":"Reference","previous_headings":"","what":"Prostate cancer trial data from Byer & Green (1980) — prostate","title":"Prostate cancer trial data from Byer & Green (1980) — prostate","text":"Anonymized data randomized clinical trial prostate cancer published Byer & Green (1980).","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/prostate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prostate cancer trial data from Byer & Green (1980) — prostate","text":"","code":"data(prostate)"},{"path":"https://gestimation.github.io/cifmodeling/reference/prostate.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Prostate cancer trial data from Byer & Green (1980) — prostate","text":"data frame 502 observations 16 variables, including: dtime Follow-time days. status Event status (\"alive\", \"dead - prostatic ca\", \"dead - ca\", \"dead - heart vascular\", \"dead - cerebrovascular\"). rx Treatment assignment diethylstilbestrol (DES) placebo. age Age baseline (years). wt Weight pounds. pf Performance status. hx History cardiovascular disease. sbp Systolic blood pressure. dbp Diastolic blood pressure. ekg Electrocardiogram category. hg Hemoglobin level. sz Size primary tumor. sg Stage/grade disease. ap Serum acid phosphatase. bm Bone metastases indicator. stage Clinical stage. sdate Start date. patno Patient number.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/prostate.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Prostate cancer trial data from Byer & Green (1980) — prostate","text":"Byer, D. P. & Green, S. B. (1980), 'Prognostic variables survival randomized comparison treatments prostatic cancer', Bulletin du Cancer 67, 477-488","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/prostate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prostate cancer trial data from Byer & Green (1980) — prostate","text":"dataset records follow-cause death together treatment assignment baseline characteristics. used package documentation illustrate stratified cumulative incidence analyses.","code":""},{"path":"https://gestimation.github.io/cifmodeling/reference/prostate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prostate cancer trial data from Byer & Green (1980) — prostate","text":"","code":"data(prostate) head(prostate) #>   patno stage              rx dtime                 status age  wt #> 1     1     3 0.2 mg estrogen    72                  alive  75  76 #> 2     2     3 0.2 mg estrogen     1        dead - other ca  54 116 #> 3     3     3 5.0 mg estrogen    40 dead - cerebrovascular  69 102 #> 4     4     3 0.2 mg estrogen    20 dead - cerebrovascular  75  94 #> 5     5     3         placebo    65                  alive  67  99 #> 6     6     3 0.2 mg estrogen    24    dead - prostatic ca  71  98 #>                     pf hx sbp dbp                           ekg       hg sz sg #> 1      normal activity  0  15   9                  heart strain 13.79883  2  8 #> 2      normal activity  0  13   7 heart block or conduction def 14.59961 42 NA #> 3      normal activity  1  14   8                  heart strain 13.39844  3  9 #> 4 in bed < 50% daytime  1  14   7                        benign 17.59766  4  8 #> 5      normal activity  0  17  10                        normal 13.39844 34  8 #> 6      normal activity  0  19  10                        normal 15.09961 10 11 #>          ap bm      sdate #> 1 0.2999878  0 1977-08-10 #> 2 0.6999512  0 1977-09-21 #> 3 0.2999878  0 1978-01-12 #> 4 0.8999023  0 1978-03-19 #> 5 0.5000000  0 1978-03-22 #> 6 0.5999756  0 1978-06-14"},{"path":"https://gestimation.github.io/cifmodeling/news/index.html","id":"cifmodeling-040","dir":"Changelog","previous_headings":"","what":"cifmodeling 0.4.0","title":"cifmodeling 0.4.0","text":"order.strata now applied via discrete scale limits legend fill ordering remain stable, including printEachVar = TRUE. Numeric stratification variables coerced factors fewer nine unique values split median (/median) nine unique values. cifplot(printEachEvent = TRUE) keeps event-specific ggplot objects attr(x, \"plots\") returning combined panel. Default y-axis labels consistently use “Survival” survival outcomes “Cumulative incidence” phrasing competing-risk outcomes.","code":""},{"path":"https://gestimation.github.io/cifmodeling/news/index.html","id":"cifmodeling-020","dir":"Changelog","previous_headings":"","what":"cifmodeling 0.2.0","title":"cifmodeling 0.2.0","text":"3# cifmodeling 0.1.0 >>>>>>> 8cb48b52ceae88e76eaa96eb4e5a44b4956cdada Initial CRAN submission.","code":""}]
